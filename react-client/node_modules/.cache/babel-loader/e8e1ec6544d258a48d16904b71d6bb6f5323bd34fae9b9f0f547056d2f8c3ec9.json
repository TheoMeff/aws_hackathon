{"ast":null,"code":"import { __rest } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useEffect, useMemo } from 'react';\nimport clsx from 'clsx';\nimport { getBaseProps } from '../internal/base-component/index.js';\nimport { fireCancelableEvent, fireNonCancelableEvent } from '../internal/events/index';\nimport useScrollSpy from './use-scroll-spy.js';\nimport { renderNestedAnchors } from './utils';\nimport styles from './styles.css.js';\nimport testUtilsStyles from './test-classes/styles.css.js';\nexport default function InternalAnchorNavigation(_a) {\n  var {\n      anchors,\n      ariaLabelledby,\n      onFollow,\n      onActiveHrefChange,\n      activeHref = '',\n      __internalRootRef = null,\n      scrollSpyOffset = 0\n    } = _a,\n    props = __rest(_a, [\"anchors\", \"ariaLabelledby\", \"onFollow\", \"onActiveHrefChange\", \"activeHref\", \"__internalRootRef\", \"scrollSpyOffset\"]);\n  const baseProps = getBaseProps(props);\n  const hrefs = useMemo(() => anchors.map(anchor => anchor.href), [anchors]);\n  const onFollowHandler = useCallback((anchor, sourceEvent) => {\n    fireCancelableEvent(onFollow, anchor, sourceEvent);\n  }, [onFollow]);\n  const currentActiveHref = useScrollSpy({\n    hrefs,\n    scrollSpyOffset,\n    activeHref\n  });\n  useEffect(() => {\n    if (currentActiveHref) {\n      const newActiveAnchor = anchors.find(anchor => anchor.href === currentActiveHref);\n      fireNonCancelableEvent(onActiveHrefChange, newActiveAnchor);\n    }\n  }, [onActiveHrefChange, anchors, currentActiveHref]);\n  return React.createElement(\"nav\", Object.assign({}, baseProps, {\n    ref: __internalRootRef,\n    \"aria-labelledby\": ariaLabelledby,\n    className: clsx(baseProps.className, styles.root, testUtilsStyles.root)\n  }), React.createElement(\"ol\", {\n    className: clsx(styles['anchor-list'], testUtilsStyles['anchor-list'])\n  }, renderNestedAnchors(anchors, {\n    onFollowHandler,\n    currentActiveHref\n  })));\n}","map":{"version":3,"names":["React","useCallback","useEffect","useMemo","clsx","getBaseProps","fireCancelableEvent","fireNonCancelableEvent","useScrollSpy","renderNestedAnchors","styles","testUtilsStyles","InternalAnchorNavigation","_a","anchors","ariaLabelledby","onFollow","onActiveHrefChange","activeHref","__internalRootRef","scrollSpyOffset","props","__rest","baseProps","hrefs","map","anchor","href","onFollowHandler","sourceEvent","currentActiveHref","newActiveAnchor","find","createElement","Object","assign","ref","className","root"],"sources":["/Users/theo/Library/CloudStorage/OneDrive-RackspaceInc/Documents/aws_hackathon/react-client/node_modules/src/anchor-navigation/internal.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useEffect, useMemo } from 'react';\nimport clsx from 'clsx';\n\nimport { getBaseProps } from '../internal/base-component/index.js';\nimport { fireCancelableEvent, fireNonCancelableEvent } from '../internal/events/index';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component/index.js';\nimport { AnchorNavigationProps } from './interfaces';\nimport useScrollSpy from './use-scroll-spy.js';\nimport { renderNestedAnchors } from './utils';\n\nimport styles from './styles.css.js';\nimport testUtilsStyles from './test-classes/styles.css.js';\n\nexport default function InternalAnchorNavigation({\n  anchors,\n  ariaLabelledby,\n  onFollow,\n  onActiveHrefChange,\n  activeHref = '',\n  __internalRootRef = null,\n  scrollSpyOffset = 0,\n  ...props\n}: AnchorNavigationProps & InternalBaseComponentProps) {\n  const baseProps = getBaseProps(props);\n\n  const hrefs = useMemo(() => anchors.map(anchor => anchor.href), [anchors]);\n\n  const onFollowHandler = useCallback(\n    (anchor: AnchorNavigationProps.Anchor, sourceEvent: React.SyntheticEvent | Event) => {\n      fireCancelableEvent(onFollow, anchor, sourceEvent);\n    },\n    [onFollow]\n  );\n\n  const currentActiveHref = useScrollSpy({\n    hrefs,\n    scrollSpyOffset,\n    activeHref,\n  });\n\n  useEffect(() => {\n    if (currentActiveHref) {\n      const newActiveAnchor = anchors.find(anchor => anchor.href === currentActiveHref);\n      fireNonCancelableEvent(onActiveHrefChange, newActiveAnchor);\n    }\n  }, [onActiveHrefChange, anchors, currentActiveHref]);\n\n  return (\n    <nav\n      {...baseProps}\n      ref={__internalRootRef}\n      aria-labelledby={ariaLabelledby}\n      className={clsx(baseProps.className, styles.root, testUtilsStyles.root)}\n    >\n      <ol className={clsx(styles['anchor-list'], testUtilsStyles['anchor-list'])}>\n        {renderNestedAnchors(anchors, {\n          onFollowHandler,\n          currentActiveHref,\n        })}\n      </ol>\n    </nav>\n  );\n}\n"],"mappings":";AAAA;AACA;AACA,OAAOA,KAAK,IAAIC,WAAW,EAAEC,SAAS,EAAEC,OAAO,QAAQ,OAAO;AAC9D,OAAOC,IAAI,MAAM,MAAM;AAEvB,SAASC,YAAY,QAAQ,qCAAqC;AAClE,SAASC,mBAAmB,EAAEC,sBAAsB,QAAQ,0BAA0B;AAGtF,OAAOC,YAAY,MAAM,qBAAqB;AAC9C,SAASC,mBAAmB,QAAQ,SAAS;AAE7C,OAAOC,MAAM,MAAM,iBAAiB;AACpC,OAAOC,eAAe,MAAM,8BAA8B;AAE1D,eAAc,SAAUC,wBAAwBA,CAACC,EASI;MATJ;MAC/CC,OAAO;MACPC,cAAc;MACdC,QAAQ;MACRC,kBAAkB;MAClBC,UAAU,GAAG,EAAE;MACfC,iBAAiB,GAAG,IAAI;MACxBC,eAAe,GAAG;IAAC,IAAAP,EAEgC;IADhDQ,KAAK,GAAAC,MAAA,CAAAT,EAAA,EARuC,qHAShD,CADS;EAER,MAAMU,SAAS,GAAGlB,YAAY,CAACgB,KAAK,CAAC;EAErC,MAAMG,KAAK,GAAGrB,OAAO,CAAC,MAAMW,OAAO,CAACW,GAAG,CAACC,MAAM,IAAIA,MAAM,CAACC,IAAI,CAAC,EAAE,CAACb,OAAO,CAAC,CAAC;EAE1E,MAAMc,eAAe,GAAG3B,WAAW,CACjC,CAACyB,MAAoC,EAAEG,WAAyC,KAAI;IAClFvB,mBAAmB,CAACU,QAAQ,EAAEU,MAAM,EAAEG,WAAW,CAAC;EACpD,CAAC,EACD,CAACb,QAAQ,CAAC,CACX;EAED,MAAMc,iBAAiB,GAAGtB,YAAY,CAAC;IACrCgB,KAAK;IACLJ,eAAe;IACfF;GACD,CAAC;EAEFhB,SAAS,CAAC,MAAK;IACb,IAAI4B,iBAAiB,EAAE;MACrB,MAAMC,eAAe,GAAGjB,OAAO,CAACkB,IAAI,CAACN,MAAM,IAAIA,MAAM,CAACC,IAAI,KAAKG,iBAAiB,CAAC;MACjFvB,sBAAsB,CAACU,kBAAkB,EAAEc,eAAe,CAAC;;EAE/D,CAAC,EAAE,CAACd,kBAAkB,EAAEH,OAAO,EAAEgB,iBAAiB,CAAC,CAAC;EAEpD,OACE9B,KAAA,CAAAiC,aAAA,QAAAC,MAAA,CAAAC,MAAA,KACMZ,SAAS;IACba,GAAG,EAAEjB,iBAAiB;IAAA,mBACLJ,cAAc;IAC/BsB,SAAS,EAAEjC,IAAI,CAACmB,SAAS,CAACc,SAAS,EAAE3B,MAAM,CAAC4B,IAAI,EAAE3B,eAAe,CAAC2B,IAAI;EAAC,IAEvEtC,KAAA,CAAAiC,aAAA;IAAII,SAAS,EAAEjC,IAAI,CAACM,MAAM,CAAC,aAAa,CAAC,EAAEC,eAAe,CAAC,aAAa,CAAC;EAAC,GACvEF,mBAAmB,CAACK,OAAO,EAAE;IAC5Bc,eAAe;IACfE;GACD,CAAC,CACC,CACD;AAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}