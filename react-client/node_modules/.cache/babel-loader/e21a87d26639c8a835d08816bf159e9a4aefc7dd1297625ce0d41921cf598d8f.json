{"ast":null,"code":"import { createFilterPredicate } from './filter.js';\nimport { createPropertyFilterPredicate } from './property-filter.js';\nimport { createComparator } from './sort.js';\nimport { createPageProps } from './pagination.js';\nimport { ItemsTree } from './items-tree.js';\nimport { composeFilters } from './compose-filters.js';\nexport function processItems(items, {\n  filteringText,\n  sortingState,\n  currentPageIndex,\n  propertyFilteringQuery\n}, {\n  filtering,\n  sorting,\n  pagination,\n  propertyFiltering,\n  expandableRows\n}) {\n  const itemsTree = new ItemsTree(items, expandableRows);\n  const filterPredicate = composeFilters(createPropertyFilterPredicate(propertyFiltering, propertyFilteringQuery), createFilterPredicate(filtering, filteringText));\n  if (filterPredicate) {\n    itemsTree.filter(filterPredicate);\n  }\n  const comparator = createComparator(sorting, sortingState);\n  if (comparator) {\n    itemsTree.sort(comparator);\n  }\n  const allPageItems = itemsTree.getItems();\n  const filteredItemsCount = filterPredicate ? itemsTree.getSize() : undefined;\n  const pageProps = createPageProps(pagination, currentPageIndex, allPageItems);\n  if (pageProps) {\n    return {\n      items: allPageItems.slice((pageProps.pageIndex - 1) * pageProps.pageSize, pageProps.pageIndex * pageProps.pageSize),\n      allPageItems: allPageItems,\n      filteredItemsCount,\n      pagesCount: pageProps === null || pageProps === void 0 ? void 0 : pageProps.pagesCount,\n      actualPageIndex: pageProps === null || pageProps === void 0 ? void 0 : pageProps.pageIndex,\n      itemsTree\n    };\n  }\n  return {\n    items: allPageItems,\n    allPageItems: allPageItems,\n    filteredItemsCount,\n    pagesCount: undefined,\n    actualPageIndex: undefined,\n    itemsTree\n  };\n}\nexport const getTrackableValue = (trackBy, item) => {\n  if (!trackBy) {\n    return item;\n  }\n  if (typeof trackBy === 'function') {\n    return trackBy(item);\n  }\n  return item[trackBy];\n};\nexport const processSelectedItems = (items, selectedItems, trackBy) => {\n  const selectedSet = new Set();\n  selectedItems.forEach(item => selectedSet.add(getTrackableValue(trackBy, item)));\n  return items.filter(item => selectedSet.has(getTrackableValue(trackBy, item)));\n};\nexport const itemsAreEqual = (items1, items2, trackBy) => {\n  if (items1.length !== items2.length) {\n    return false;\n  }\n  const set1 = new Set();\n  items1.forEach(item => set1.add(getTrackableValue(trackBy, item)));\n  return items2.every(item => set1.has(getTrackableValue(trackBy, item)));\n};","map":{"version":3,"names":["createFilterPredicate","createPropertyFilterPredicate","createComparator","createPageProps","ItemsTree","composeFilters","processItems","items","filteringText","sortingState","currentPageIndex","propertyFilteringQuery","filtering","sorting","pagination","propertyFiltering","expandableRows","itemsTree","filterPredicate","filter","comparator","sort","allPageItems","getItems","filteredItemsCount","getSize","undefined","pageProps","slice","pageIndex","pageSize","pagesCount","actualPageIndex","getTrackableValue","trackBy","item","processSelectedItems","selectedItems","selectedSet","Set","forEach","add","has","itemsAreEqual","items1","items2","length","set1","every"],"sources":["/Users/theo/Library/CloudStorage/OneDrive-RackspaceInc/Documents/aws_hackathon/react-client/node_modules/@cloudscape-design/collection-hooks/mjs/operations/index.js"],"sourcesContent":["import { createFilterPredicate } from './filter.js';\nimport { createPropertyFilterPredicate } from './property-filter.js';\nimport { createComparator } from './sort.js';\nimport { createPageProps } from './pagination.js';\nimport { ItemsTree } from './items-tree.js';\nimport { composeFilters } from './compose-filters.js';\nexport function processItems(items, { filteringText, sortingState, currentPageIndex, propertyFilteringQuery }, { filtering, sorting, pagination, propertyFiltering, expandableRows }) {\n    const itemsTree = new ItemsTree(items, expandableRows);\n    const filterPredicate = composeFilters(createPropertyFilterPredicate(propertyFiltering, propertyFilteringQuery), createFilterPredicate(filtering, filteringText));\n    if (filterPredicate) {\n        itemsTree.filter(filterPredicate);\n    }\n    const comparator = createComparator(sorting, sortingState);\n    if (comparator) {\n        itemsTree.sort(comparator);\n    }\n    const allPageItems = itemsTree.getItems();\n    const filteredItemsCount = filterPredicate ? itemsTree.getSize() : undefined;\n    const pageProps = createPageProps(pagination, currentPageIndex, allPageItems);\n    if (pageProps) {\n        return {\n            items: allPageItems.slice((pageProps.pageIndex - 1) * pageProps.pageSize, pageProps.pageIndex * pageProps.pageSize),\n            allPageItems: allPageItems,\n            filteredItemsCount,\n            pagesCount: pageProps === null || pageProps === void 0 ? void 0 : pageProps.pagesCount,\n            actualPageIndex: pageProps === null || pageProps === void 0 ? void 0 : pageProps.pageIndex,\n            itemsTree,\n        };\n    }\n    return {\n        items: allPageItems,\n        allPageItems: allPageItems,\n        filteredItemsCount,\n        pagesCount: undefined,\n        actualPageIndex: undefined,\n        itemsTree,\n    };\n}\nexport const getTrackableValue = (trackBy, item) => {\n    if (!trackBy) {\n        return item;\n    }\n    if (typeof trackBy === 'function') {\n        return trackBy(item);\n    }\n    return item[trackBy];\n};\nexport const processSelectedItems = (items, selectedItems, trackBy) => {\n    const selectedSet = new Set();\n    selectedItems.forEach(item => selectedSet.add(getTrackableValue(trackBy, item)));\n    return items.filter(item => selectedSet.has(getTrackableValue(trackBy, item)));\n};\nexport const itemsAreEqual = (items1, items2, trackBy) => {\n    if (items1.length !== items2.length) {\n        return false;\n    }\n    const set1 = new Set();\n    items1.forEach(item => set1.add(getTrackableValue(trackBy, item)));\n    return items2.every(item => set1.has(getTrackableValue(trackBy, item)));\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}