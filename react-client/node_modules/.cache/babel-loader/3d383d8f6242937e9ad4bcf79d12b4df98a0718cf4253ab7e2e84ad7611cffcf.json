{"ast":null,"code":"import { __rest } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport { getAnalyticsMetadataAttribute } from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\nimport { AnalyticsFunnelSubStep } from '../internal/analytics/components/analytics-funnel';\nimport { getAnalyticsMetadataProps } from '../internal/base-component';\nimport { CollectionPreferencesMetadata } from '../internal/context/collection-preferences-metadata-context';\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport { getSortingColumnId } from './header-cell/utils';\nimport InternalTable, { InternalTableAsSubstep } from './internal';\nconst Table = React.forwardRef((_a, ref) => {\n  var _b, _c, _d;\n  var {\n      items = [],\n      selectedItems = [],\n      variant = 'container',\n      contentDensity = 'comfortable',\n      cellVerticalAlign = 'middle',\n      firstIndex = 1\n    } = _a,\n    props = __rest(_a, [\"items\", \"selectedItems\", \"variant\", \"contentDensity\", \"cellVerticalAlign\", \"firstIndex\"]);\n  const analyticsMetadata = getAnalyticsMetadataProps(props);\n  const hasHiddenColumns = props.visibleColumns && props.visibleColumns.length < props.columnDefinitions.length || ((_b = props.columnDisplay) === null || _b === void 0 ? void 0 : _b.some(col => !col.visible));\n  const hasStickyColumns = !!((_c = props.stickyColumns) === null || _c === void 0 ? void 0 : _c.first) || !!((_d = props.stickyColumns) === null || _d === void 0 ? void 0 : _d.last);\n  const baseComponentProps = useBaseComponent('Table', {\n    props: {\n      contentDensity,\n      resizableColumns: props.resizableColumns,\n      selectionType: props.selectionType,\n      stickyHeader: props.stickyHeader,\n      stripedRows: props.stripedRows,\n      variant,\n      wrapLines: props.wrapLines,\n      enableKeyboardNavigation: props.enableKeyboardNavigation,\n      totalItemsCount: props.totalItemsCount,\n      flowType: analyticsMetadata.flowType,\n      cellVerticalAlign\n    },\n    metadata: {\n      expandableRows: !!props.expandableRows,\n      progressiveLoading: !!props.getLoadingStatus,\n      inlineEdit: props.columnDefinitions.some(def => !!def.editConfig),\n      disabledInlineEdit: props.columnDefinitions.some(def => {\n        var _a;\n        return !!((_a = def.editConfig) === null || _a === void 0 ? void 0 : _a.disabledReason);\n      }),\n      hasSortableColumns: props.columnDefinitions.some(def => def.sortingField || def.sortingComparator),\n      hasHiddenColumns,\n      hasStickyColumns,\n      hasFilterSlot: !!props.filter,\n      hasPaginationSlot: !!props.pagination,\n      itemsCount: items.length,\n      hasInstanceIdentifier: Boolean(analyticsMetadata === null || analyticsMetadata === void 0 ? void 0 : analyticsMetadata.instanceIdentifier),\n      hasResourceType: Boolean(analyticsMetadata === null || analyticsMetadata === void 0 ? void 0 : analyticsMetadata.resourceType),\n      usesVisibleColumns: !!props.visibleColumns,\n      usesColumnDisplay: !!props.columnDisplay,\n      usesColumnDefinitionsVerticalAlign: props.columnDefinitions.some(def => def.verticalAlign !== cellVerticalAlign)\n    }\n  }, analyticsMetadata);\n  const analyticsComponentMetadata = {\n    name: 'awsui.Table',\n    label: {\n      root: 'self'\n    },\n    properties: {\n      selectionType: props.selectionType || 'none',\n      itemsCount: `${items.length}`,\n      selectedItemsCount: `${selectedItems.length}`,\n      variant\n    }\n  };\n  const sortingColumnId = getSortingColumnId(props.columnDefinitions, props.sortingColumn);\n  if (sortingColumnId) {\n    analyticsComponentMetadata.properties.sortingColumnId = sortingColumnId;\n    analyticsComponentMetadata.properties.sortingDescending = `${props.sortingDescending || false}`;\n  }\n  const tableProps = Object.assign(Object.assign(Object.assign(Object.assign({\n    items,\n    selectedItems,\n    variant,\n    contentDensity,\n    firstIndex,\n    cellVerticalAlign\n  }, props), baseComponentProps), {\n    ref\n  }), getAnalyticsMetadataAttribute({\n    component: analyticsComponentMetadata\n  }));\n  const collectionPreferencesMetadata = {\n    tableContentDensity: contentDensity,\n    tableHasStripedRows: !!props.stripedRows,\n    tableHasHiddenColumns: hasHiddenColumns,\n    tableHasStickyColumns: hasStickyColumns\n  };\n  if (variant === 'borderless' || variant === 'embedded') {\n    return React.createElement(CollectionPreferencesMetadata.Provider, {\n      value: collectionPreferencesMetadata\n    }, React.createElement(InternalTable, Object.assign({}, tableProps)));\n  }\n  return React.createElement(CollectionPreferencesMetadata.Provider, {\n    value: collectionPreferencesMetadata\n  }, React.createElement(AnalyticsFunnelSubStep, null, React.createElement(InternalTableAsSubstep, Object.assign({}, tableProps))));\n});\napplyDisplayName(Table, 'Table');\nexport default Table;","map":{"version":3,"names":["React","getAnalyticsMetadataAttribute","AnalyticsFunnelSubStep","getAnalyticsMetadataProps","CollectionPreferencesMetadata","useBaseComponent","applyDisplayName","getSortingColumnId","InternalTable","InternalTableAsSubstep","Table","forwardRef","_a","ref","items","selectedItems","variant","contentDensity","cellVerticalAlign","firstIndex","props","__rest","analyticsMetadata","hasHiddenColumns","visibleColumns","length","columnDefinitions","_b","columnDisplay","some","col","visible","hasStickyColumns","_c","stickyColumns","first","_d","last","baseComponentProps","resizableColumns","selectionType","stickyHeader","stripedRows","wrapLines","enableKeyboardNavigation","totalItemsCount","flowType","metadata","expandableRows","progressiveLoading","getLoadingStatus","inlineEdit","def","editConfig","disabledInlineEdit","disabledReason","hasSortableColumns","sortingField","sortingComparator","hasFilterSlot","filter","hasPaginationSlot","pagination","itemsCount","hasInstanceIdentifier","Boolean","instanceIdentifier","hasResourceType","resourceType","usesVisibleColumns","usesColumnDisplay","usesColumnDefinitionsVerticalAlign","verticalAlign","analyticsComponentMetadata","name","label","root","properties","selectedItemsCount","sortingColumnId","sortingColumn","sortingDescending","tableProps","Object","assign","component","collectionPreferencesMetadata","tableContentDensity","tableHasStripedRows","tableHasHiddenColumns","tableHasStickyColumns","createElement","Provider","value"],"sources":["/Users/theo/Library/CloudStorage/OneDrive-RackspaceInc/Documents/aws_hackathon/react-client/node_modules/src/table/index.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport { getAnalyticsMetadataAttribute } from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\n\nimport { AnalyticsFunnelSubStep } from '../internal/analytics/components/analytics-funnel';\nimport { BasePropsWithAnalyticsMetadata, getAnalyticsMetadataProps } from '../internal/base-component';\nimport { CollectionPreferencesMetadata } from '../internal/context/collection-preferences-metadata-context';\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport { GeneratedAnalyticsMetadataTableComponent } from './analytics-metadata/interfaces';\nimport { getSortingColumnId } from './header-cell/utils';\nimport { TableForwardRefType, TableProps } from './interfaces';\nimport InternalTable, { InternalTableAsSubstep } from './internal';\n\nexport { TableProps };\nconst Table = React.forwardRef(\n  <T,>(\n    {\n      items = [],\n      selectedItems = [],\n      variant = 'container',\n      contentDensity = 'comfortable',\n      cellVerticalAlign = 'middle',\n      firstIndex = 1,\n      ...props\n    }: TableProps<T>,\n    ref: React.Ref<TableProps.Ref>\n  ) => {\n    const analyticsMetadata = getAnalyticsMetadataProps(props as BasePropsWithAnalyticsMetadata);\n    const hasHiddenColumns =\n      (props.visibleColumns && props.visibleColumns.length < props.columnDefinitions.length) ||\n      props.columnDisplay?.some(col => !col.visible);\n    const hasStickyColumns = !!props.stickyColumns?.first || !!props.stickyColumns?.last;\n    const baseComponentProps = useBaseComponent(\n      'Table',\n      {\n        props: {\n          contentDensity,\n          resizableColumns: props.resizableColumns,\n          selectionType: props.selectionType,\n          stickyHeader: props.stickyHeader,\n          stripedRows: props.stripedRows,\n          variant,\n          wrapLines: props.wrapLines,\n          enableKeyboardNavigation: props.enableKeyboardNavigation,\n          totalItemsCount: props.totalItemsCount,\n          flowType: analyticsMetadata.flowType,\n          cellVerticalAlign,\n        },\n        metadata: {\n          expandableRows: !!props.expandableRows,\n          progressiveLoading: !!props.getLoadingStatus,\n          inlineEdit: props.columnDefinitions.some(def => !!def.editConfig),\n          disabledInlineEdit: props.columnDefinitions.some(def => !!def.editConfig?.disabledReason),\n          hasSortableColumns: props.columnDefinitions.some(def => def.sortingField || def.sortingComparator),\n          hasHiddenColumns,\n          hasStickyColumns,\n          hasFilterSlot: !!props.filter,\n          hasPaginationSlot: !!props.pagination,\n          itemsCount: items.length,\n          hasInstanceIdentifier: Boolean(analyticsMetadata?.instanceIdentifier),\n          hasResourceType: Boolean(analyticsMetadata?.resourceType),\n          usesVisibleColumns: !!props.visibleColumns,\n          usesColumnDisplay: !!props.columnDisplay,\n          usesColumnDefinitionsVerticalAlign: props.columnDefinitions.some(\n            def => def.verticalAlign !== cellVerticalAlign\n          ),\n        },\n      },\n      analyticsMetadata\n    );\n\n    const analyticsComponentMetadata: GeneratedAnalyticsMetadataTableComponent = {\n      name: 'awsui.Table',\n      label: { root: 'self' },\n      properties: {\n        selectionType: props.selectionType || 'none',\n        itemsCount: `${items.length}`,\n        selectedItemsCount: `${selectedItems.length}`,\n        variant,\n      },\n    };\n\n    const sortingColumnId = getSortingColumnId(props.columnDefinitions, props.sortingColumn);\n    if (sortingColumnId) {\n      analyticsComponentMetadata.properties.sortingColumnId = sortingColumnId;\n      analyticsComponentMetadata.properties.sortingDescending = `${props.sortingDescending || false}`;\n    }\n\n    const tableProps: Parameters<typeof InternalTable<T>>[0] = {\n      items,\n      selectedItems,\n      variant,\n      contentDensity,\n      firstIndex,\n      cellVerticalAlign,\n      ...props,\n      ...baseComponentProps,\n      ref,\n      ...getAnalyticsMetadataAttribute({ component: analyticsComponentMetadata }),\n    };\n\n    const collectionPreferencesMetadata = {\n      tableContentDensity: contentDensity,\n      tableHasStripedRows: !!props.stripedRows,\n      tableHasHiddenColumns: hasHiddenColumns,\n      tableHasStickyColumns: hasStickyColumns,\n    };\n\n    if (variant === 'borderless' || variant === 'embedded') {\n      return (\n        <CollectionPreferencesMetadata.Provider value={collectionPreferencesMetadata}>\n          <InternalTable {...tableProps} />\n        </CollectionPreferencesMetadata.Provider>\n      );\n    }\n\n    return (\n      <CollectionPreferencesMetadata.Provider value={collectionPreferencesMetadata}>\n        <AnalyticsFunnelSubStep>\n          <InternalTableAsSubstep {...tableProps} />\n        </AnalyticsFunnelSubStep>\n      </CollectionPreferencesMetadata.Provider>\n    );\n  }\n) as TableForwardRefType;\n\napplyDisplayName(Table, 'Table');\nexport default Table;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}