{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef } from 'react';\nimport clsx from 'clsx';\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\nimport { InternalButton } from '../button/internal.js';\nimport Tooltip from '../internal/components/tooltip/index.js';\nimport { fireCancelableEvent } from '../internal/events/index.js';\nimport InternalLiveRegion from '../live-region/internal.js';\nimport testUtilStyles from './test-classes/styles.css.js';\nconst IconButtonItem = forwardRef(({\n  item,\n  showTooltip,\n  showFeedback,\n  onTooltipDismiss,\n  onItemClick\n}, ref) => {\n  const containerRef = React.useRef(null);\n  const hasIcon = item.iconName || item.iconUrl || item.iconSvg;\n  if (!hasIcon) {\n    warnOnce('ButtonGroup', `Missing icon for item with id: ${item.id}`);\n  }\n  const canShowTooltip = Boolean(showTooltip && !item.disabled && !item.loading);\n  const canShowFeedback = Boolean(showTooltip && showFeedback && item.popoverFeedback);\n  return React.createElement(\"div\", {\n    ref: containerRef\n  }, React.createElement(InternalButton, {\n    variant: \"icon\",\n    loading: item.loading,\n    loadingText: item.loadingText,\n    disabled: item.disabled,\n    disabledReason: showFeedback ? undefined : item.disabledReason,\n    __focusable: canShowFeedback,\n    iconName: hasIcon ? item.iconName : 'close',\n    iconUrl: item.iconUrl,\n    iconSvg: item.iconSvg,\n    iconAlt: item.text,\n    ariaLabel: item.text,\n    onClick: event => fireCancelableEvent(onItemClick, {\n      id: item.id\n    }, event),\n    ref: ref,\n    \"data-testid\": item.id,\n    \"data-itemid\": item.id,\n    className: clsx(testUtilStyles.item, testUtilStyles['button-group-item']),\n    __title: \"\"\n  }, item.text), (canShowTooltip || canShowFeedback) && React.createElement(Tooltip, {\n    trackRef: containerRef,\n    trackKey: item.id,\n    value: showFeedback && React.createElement(InternalLiveRegion, {\n      tagName: \"span\"\n    }, item.popoverFeedback) || item.text,\n    className: clsx(testUtilStyles.tooltip, testUtilStyles['button-group-tooltip']),\n    onDismiss: onTooltipDismiss\n  }));\n});\nexport default IconButtonItem;","map":{"version":3,"names":["React","forwardRef","clsx","warnOnce","InternalButton","Tooltip","fireCancelableEvent","InternalLiveRegion","testUtilStyles","IconButtonItem","item","showTooltip","showFeedback","onTooltipDismiss","onItemClick","ref","containerRef","useRef","hasIcon","iconName","iconUrl","iconSvg","id","canShowTooltip","Boolean","disabled","loading","canShowFeedback","popoverFeedback","createElement","variant","loadingText","disabledReason","undefined","__focusable","iconAlt","text","ariaLabel","onClick","event","className","__title","trackRef","trackKey","value","tagName","tooltip","onDismiss"],"sources":["/Users/theo/Library/CloudStorage/OneDrive-RackspaceInc/Documents/aws_hackathon/react-client/node_modules/src/button-group/icon-button-item.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { forwardRef } from 'react';\nimport clsx from 'clsx';\n\nimport { warnOnce } from '@cloudscape-design/component-toolkit/internal';\n\nimport { ButtonProps } from '../button/interfaces.js';\nimport { InternalButton } from '../button/internal.js';\nimport Tooltip from '../internal/components/tooltip/index.js';\nimport { CancelableEventHandler, fireCancelableEvent } from '../internal/events/index.js';\nimport InternalLiveRegion from '../live-region/internal.js';\nimport { ButtonGroupProps } from './interfaces.js';\n\nimport testUtilStyles from './test-classes/styles.css.js';\n\ninterface IconButtonItemProps {\n  item: ButtonGroupProps.IconButton;\n  showTooltip: boolean;\n  showFeedback: boolean;\n  onTooltipDismiss: () => void;\n  onItemClick?: CancelableEventHandler<ButtonGroupProps.ItemClickDetails>;\n}\n\nconst IconButtonItem = forwardRef(\n  (\n    { item, showTooltip, showFeedback, onTooltipDismiss, onItemClick }: IconButtonItemProps,\n    ref: React.Ref<ButtonProps.Ref>\n  ) => {\n    const containerRef = React.useRef<HTMLDivElement>(null);\n    const hasIcon = item.iconName || item.iconUrl || item.iconSvg;\n\n    if (!hasIcon) {\n      warnOnce('ButtonGroup', `Missing icon for item with id: ${item.id}`);\n    }\n\n    const canShowTooltip = Boolean(showTooltip && !item.disabled && !item.loading);\n    const canShowFeedback = Boolean(showTooltip && showFeedback && item.popoverFeedback);\n    return (\n      <div ref={containerRef}>\n        <InternalButton\n          variant=\"icon\"\n          loading={item.loading}\n          loadingText={item.loadingText}\n          disabled={item.disabled}\n          disabledReason={showFeedback ? undefined : item.disabledReason} // don't show disabled reason when popover feedback is shown\n          __focusable={canShowFeedback}\n          iconName={hasIcon ? item.iconName : 'close'}\n          iconUrl={item.iconUrl}\n          iconSvg={item.iconSvg}\n          iconAlt={item.text}\n          ariaLabel={item.text}\n          onClick={event => fireCancelableEvent(onItemClick, { id: item.id }, event)}\n          ref={ref}\n          data-testid={item.id}\n          data-itemid={item.id}\n          className={clsx(testUtilStyles.item, testUtilStyles['button-group-item'])}\n          __title=\"\"\n        >\n          {item.text}\n        </InternalButton>\n        {(canShowTooltip || canShowFeedback) && (\n          <Tooltip\n            trackRef={containerRef}\n            trackKey={item.id}\n            value={\n              (showFeedback && <InternalLiveRegion tagName=\"span\">{item.popoverFeedback}</InternalLiveRegion>) ||\n              item.text\n            }\n            className={clsx(testUtilStyles.tooltip, testUtilStyles['button-group-tooltip'])}\n            onDismiss={onTooltipDismiss}\n          />\n        )}\n      </div>\n    );\n  }\n);\n\nexport default IconButtonItem;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}