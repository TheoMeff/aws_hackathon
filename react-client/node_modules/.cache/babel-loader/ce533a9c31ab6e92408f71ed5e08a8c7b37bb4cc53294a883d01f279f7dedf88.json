{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useStableCallback } from '@cloudscape-design/component-toolkit/internal';\nimport InternalDragHandle from '../../internal/components/drag-handle';\nimport styles from './styles.css.js';\nconst KEYBOARD_STEP_SIZE = 20;\nexport function ResizableBox({\n  children,\n  height,\n  minHeight,\n  onResize,\n  handleAriaLabel,\n  handleTooltipText\n}) {\n  const [dragOffset, setDragOffset] = useState(null);\n  const onResizeStable = useStableCallback(onResize);\n  const containerRef = useRef(null);\n  const onPointerDown = event => {\n    if (event.pointerType === 'mouse' && event.button !== 0 || !containerRef.current) {\n      return;\n    }\n    const containerBottom = containerRef.current.getBoundingClientRect().bottom;\n    setDragOffset(containerBottom - event.clientY);\n  };\n  const onKeyDown = event => {\n    switch (event.key) {\n      case 'ArrowDown':\n      case 'ArrowRight':\n        event.preventDefault(); // Prevent page scroll\n        onResizeStable(height + KEYBOARD_STEP_SIZE);\n        break;\n      case 'ArrowUp':\n      case 'ArrowLeft':\n        event.preventDefault(); // Prevent page scroll\n        onResizeStable(Math.max(height - KEYBOARD_STEP_SIZE, minHeight));\n        break;\n    }\n  };\n  useEffect(() => {\n    if (dragOffset === null || !containerRef.current) {\n      return;\n    }\n    const container = containerRef.current;\n    const onPointerMove = event => {\n      const {\n        top\n      } = container.getBoundingClientRect();\n      const cursor = event.clientY;\n      onResizeStable(Math.max(cursor + dragOffset - top, minHeight));\n    };\n    const onPointerUp = () => {\n      setDragOffset(null);\n    };\n    const controller = new AbortController();\n    document.body.classList.add(styles['resize-active']);\n    container.classList.add(styles['cursor-active']);\n    document.addEventListener('pointermove', onPointerMove, {\n      signal: controller.signal\n    });\n    document.addEventListener('pointerup', onPointerUp, {\n      signal: controller.signal\n    });\n    return () => {\n      controller.abort();\n      document.body.classList.remove(styles['resize-active']);\n      container.classList.remove(styles['cursor-active']);\n    };\n  }, [dragOffset, minHeight, onResizeStable]);\n  return React.createElement(\"div\", {\n    ref: containerRef,\n    className: styles['resizable-box'],\n    style: {\n      height\n    }\n  }, children, React.createElement(\"div\", {\n    className: styles['resizable-box-handle']\n  }, React.createElement(InternalDragHandle, {\n    ariaLabel: handleAriaLabel,\n    variant: \"resize-area\",\n    // Provide an arbitrary large value to valueMax since the editor can be\n    // resized to be infinitely large.\n    ariaValue: {\n      valueMin: minHeight,\n      valueMax: 1000000,\n      valueNow: height\n    },\n    tooltipText: handleTooltipText,\n    onPointerDown: onPointerDown,\n    onKeyDown: onKeyDown,\n    directions: {\n      'block-start': height > minHeight ? 'active' : 'disabled',\n      'block-end': 'active'\n    },\n    onDirectionClick: direction => {\n      switch (direction) {\n        case 'block-end':\n          onResizeStable(height + KEYBOARD_STEP_SIZE);\n          break;\n        case 'block-start':\n          onResizeStable(Math.max(height - KEYBOARD_STEP_SIZE, minHeight));\n          break;\n      }\n    }\n  })));\n}","map":{"version":3,"names":["React","useEffect","useRef","useState","useStableCallback","InternalDragHandle","styles","KEYBOARD_STEP_SIZE","ResizableBox","children","height","minHeight","onResize","handleAriaLabel","handleTooltipText","dragOffset","setDragOffset","onResizeStable","containerRef","onPointerDown","event","pointerType","button","current","containerBottom","getBoundingClientRect","bottom","clientY","onKeyDown","key","preventDefault","Math","max","container","onPointerMove","top","cursor","onPointerUp","controller","AbortController","document","body","classList","add","addEventListener","signal","abort","remove","createElement","ref","className","style","ariaLabel","variant","ariaValue","valueMin","valueMax","valueNow","tooltipText","directions","onDirectionClick","direction"],"sources":["/Users/theo/Library/CloudStorage/OneDrive-RackspaceInc/Documents/aws_hackathon/react-client/node_modules/src/code-editor/resizable-box/index.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useEffect, useRef, useState } from 'react';\n\nimport { useStableCallback } from '@cloudscape-design/component-toolkit/internal';\n\nimport InternalDragHandle from '../../internal/components/drag-handle';\n\nimport styles from './styles.css.js';\n\nconst KEYBOARD_STEP_SIZE = 20;\n\nexport interface ResizeBoxProps {\n  children: React.ReactNode;\n  height: number;\n  minHeight: number;\n  onResize: (newHeight: number) => void;\n\n  handleAriaLabel?: string;\n  handleTooltipText?: string;\n}\n\nexport function ResizableBox({\n  children,\n  height,\n  minHeight,\n  onResize,\n  handleAriaLabel,\n  handleTooltipText,\n}: ResizeBoxProps) {\n  const [dragOffset, setDragOffset] = useState<null | number>(null);\n  const onResizeStable = useStableCallback(onResize);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  const onPointerDown: React.PointerEventHandler = event => {\n    if ((event.pointerType === 'mouse' && event.button !== 0) || !containerRef.current) {\n      return;\n    }\n    const containerBottom = containerRef.current.getBoundingClientRect().bottom;\n    setDragOffset(containerBottom - event.clientY);\n  };\n\n  const onKeyDown: React.KeyboardEventHandler = event => {\n    switch (event.key) {\n      case 'ArrowDown':\n      case 'ArrowRight':\n        event.preventDefault(); // Prevent page scroll\n        onResizeStable(height + KEYBOARD_STEP_SIZE);\n        break;\n      case 'ArrowUp':\n      case 'ArrowLeft':\n        event.preventDefault(); // Prevent page scroll\n        onResizeStable(Math.max(height - KEYBOARD_STEP_SIZE, minHeight));\n        break;\n    }\n  };\n\n  useEffect(() => {\n    if (dragOffset === null || !containerRef.current) {\n      return;\n    }\n    const container = containerRef.current;\n\n    const onPointerMove = (event: PointerEvent) => {\n      const { top } = container.getBoundingClientRect();\n      const cursor = event.clientY;\n      onResizeStable(Math.max(cursor + dragOffset - top, minHeight));\n    };\n    const onPointerUp = () => {\n      setDragOffset(null);\n    };\n    const controller = new AbortController();\n    document.body.classList.add(styles['resize-active']);\n    container.classList.add(styles['cursor-active']);\n    document.addEventListener('pointermove', onPointerMove, { signal: controller.signal });\n    document.addEventListener('pointerup', onPointerUp, { signal: controller.signal });\n    return () => {\n      controller.abort();\n      document.body.classList.remove(styles['resize-active']);\n      container.classList.remove(styles['cursor-active']);\n    };\n  }, [dragOffset, minHeight, onResizeStable]);\n\n  return (\n    <div ref={containerRef} className={styles['resizable-box']} style={{ height }}>\n      {children}\n\n      <div className={styles['resizable-box-handle']}>\n        <InternalDragHandle\n          ariaLabel={handleAriaLabel}\n          variant=\"resize-area\"\n          // Provide an arbitrary large value to valueMax since the editor can be\n          // resized to be infinitely large.\n          ariaValue={{ valueMin: minHeight, valueMax: 1000000, valueNow: height }}\n          tooltipText={handleTooltipText}\n          onPointerDown={onPointerDown}\n          onKeyDown={onKeyDown}\n          directions={{\n            'block-start': height > minHeight ? 'active' : 'disabled',\n            'block-end': 'active',\n          }}\n          onDirectionClick={direction => {\n            switch (direction) {\n              case 'block-end':\n                onResizeStable(height + KEYBOARD_STEP_SIZE);\n                break;\n              case 'block-start':\n                onResizeStable(Math.max(height - KEYBOARD_STEP_SIZE, minHeight));\n                break;\n            }\n          }}\n        />\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}