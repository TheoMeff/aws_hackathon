{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\nimport InternalButtonDropdown from '../button-dropdown/internal';\nimport InternalIcon from '../icon/internal';\nimport { DATA_ATTR_FUNNEL_KEY, DATA_ATTR_RESOURCE_TYPE, FUNNEL_KEY_FUNNEL_NAME } from '../internal/analytics/selectors';\nimport { spinWhenOpen } from '../internal/styles/motion/utils';\nimport styles from './styles.css.js';\nconst metadataTypeAttribute = {\n  [DATA_ATTR_RESOURCE_TYPE]: 'true'\n};\nexport const AllItemsDropdown = ({\n  items,\n  onItemClick,\n  onItemFollow\n}) => {\n  var _a;\n  return React.createElement(React.Fragment, null, React.createElement(InternalButtonDropdown, {\n    items: items.map((item, index) => {\n      const isCurrentBreadcrumb = index === items.length - 1;\n      return {\n        id: index.toString(),\n        text: item.text,\n        href: isCurrentBreadcrumb ? undefined : item.href,\n        isCurrentBreadcrumb\n      };\n    }),\n    customTriggerBuilder: getDropdownTrigger((_a = items[items.length - 1]) === null || _a === void 0 ? void 0 : _a.text),\n    linkStyle: true,\n    fullWidth: true,\n    onItemClick: onItemClick,\n    onItemFollow: onItemFollow,\n    analyticsMetadataTransformer: metadata => {\n      var _a, _b;\n      if ((_a = metadata.detail) === null || _a === void 0 ? void 0 : _a.id) {\n        delete metadata.detail.id;\n      }\n      if ((_b = metadata.detail) === null || _b === void 0 ? void 0 : _b.position) {\n        metadata.detail.position = `${parseInt(metadata.detail.position, 10) + 1}`;\n      }\n      return metadata;\n    }\n  }), items.length > 1 && React.createElement(\"span\", Object.assign({\n    className: styles.hidden\n  }, metadataTypeAttribute), items[1].text));\n};\nconst getDropdownTrigger = currentPage => ({\n  ariaLabel,\n  triggerRef,\n  testUtilsClass,\n  isOpen,\n  onClick\n}) => {\n  const metadataAttributes = {\n    [DATA_ATTR_FUNNEL_KEY]: FUNNEL_KEY_FUNNEL_NAME\n  };\n  return React.createElement(\"button\", Object.assign({\n    ref: triggerRef\n  }, metadataAttributes, {\n    className: clsx(styles['collapsed-button'], testUtilsClass),\n    onClick: event => {\n      event.preventDefault();\n      onClick();\n    },\n    \"aria-expanded\": isOpen,\n    \"aria-haspopup\": true,\n    \"aria-label\": ariaLabel,\n    formAction: \"none\"\n  }), React.createElement(InternalIcon, {\n    name: \"caret-down-filled\",\n    className: spinWhenOpen(styles, 'button-icon', isOpen)\n  }), React.createElement(\"span\", null, currentPage));\n};","map":{"version":3,"names":["React","clsx","InternalButtonDropdown","InternalIcon","DATA_ATTR_FUNNEL_KEY","DATA_ATTR_RESOURCE_TYPE","FUNNEL_KEY_FUNNEL_NAME","spinWhenOpen","styles","metadataTypeAttribute","AllItemsDropdown","items","onItemClick","onItemFollow","createElement","Fragment","map","item","index","isCurrentBreadcrumb","length","id","toString","text","href","undefined","customTriggerBuilder","getDropdownTrigger","_a","linkStyle","fullWidth","analyticsMetadataTransformer","metadata","detail","_b","position","parseInt","Object","assign","className","hidden","currentPage","ariaLabel","triggerRef","testUtilsClass","isOpen","onClick","metadataAttributes","ref","event","preventDefault","formAction","name"],"sources":["/Users/theo/Library/CloudStorage/OneDrive-RackspaceInc/Documents/aws_hackathon/react-client/node_modules/src/breadcrumb-group/all-items-dropdown.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { Ref } from 'react';\nimport clsx from 'clsx';\n\nimport { CustomTriggerProps } from '../button-dropdown/interfaces';\nimport InternalButtonDropdown from '../button-dropdown/internal';\nimport InternalIcon from '../icon/internal';\nimport { DATA_ATTR_FUNNEL_KEY, DATA_ATTR_RESOURCE_TYPE, FUNNEL_KEY_FUNNEL_NAME } from '../internal/analytics/selectors';\nimport { CancelableEventHandler } from '../internal/events';\nimport { spinWhenOpen } from '../internal/styles/motion/utils';\nimport { BreadcrumbGroupProps } from './interfaces';\n\nimport styles from './styles.css.js';\n\ninterface FullCollapsedDropdownProps {\n  items: ReadonlyArray<BreadcrumbGroupProps.Item>;\n  onItemClick: CancelableEventHandler<{ id: string }>;\n  onItemFollow: CancelableEventHandler<{ id: string }>;\n}\n\nconst metadataTypeAttribute = {\n  [DATA_ATTR_RESOURCE_TYPE]: 'true',\n};\n\nexport const AllItemsDropdown = ({ items, onItemClick, onItemFollow }: FullCollapsedDropdownProps) => (\n  <>\n    <InternalButtonDropdown\n      items={items.map((item, index) => {\n        const isCurrentBreadcrumb = index === items.length - 1;\n        return {\n          id: index.toString(),\n          text: item.text,\n          href: isCurrentBreadcrumb ? undefined : item.href,\n          isCurrentBreadcrumb,\n        };\n      })}\n      customTriggerBuilder={getDropdownTrigger(items[items.length - 1]?.text)}\n      linkStyle={true}\n      fullWidth={true}\n      onItemClick={onItemClick}\n      onItemFollow={onItemFollow}\n      analyticsMetadataTransformer={metadata => {\n        if (metadata.detail?.id) {\n          delete metadata.detail.id;\n        }\n        if (metadata.detail?.position) {\n          metadata.detail.position = `${parseInt(metadata.detail.position as string, 10) + 1}`;\n        }\n        return metadata;\n      }}\n    />\n    {/* Second breadcrumb item is tagged as \"resource type\" */}\n    {items.length > 1 && (\n      <span className={styles.hidden} {...metadataTypeAttribute}>\n        {items[1].text}\n      </span>\n    )}\n  </>\n);\nconst getDropdownTrigger =\n  (currentPage: string) =>\n  ({ ariaLabel, triggerRef, testUtilsClass, isOpen, onClick }: CustomTriggerProps) => {\n    const metadataAttributes = {\n      [DATA_ATTR_FUNNEL_KEY]: FUNNEL_KEY_FUNNEL_NAME,\n    };\n    return (\n      <button\n        ref={triggerRef as Ref<HTMLButtonElement>}\n        {...metadataAttributes}\n        className={clsx(styles['collapsed-button'], testUtilsClass)}\n        onClick={event => {\n          event.preventDefault();\n          onClick();\n        }}\n        aria-expanded={isOpen}\n        aria-haspopup={true}\n        aria-label={ariaLabel}\n        formAction=\"none\"\n      >\n        <InternalIcon name=\"caret-down-filled\" className={spinWhenOpen(styles, 'button-icon', isOpen)} />\n        <span>{currentPage}</span>\n      </button>\n    );\n  };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}