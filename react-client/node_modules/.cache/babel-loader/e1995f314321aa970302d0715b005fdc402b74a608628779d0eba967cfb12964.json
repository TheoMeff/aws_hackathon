{"ast":null,"code":"import { __rest } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useState } from 'react';\nimport clsx from 'clsx';\nimport InternalButton from '../button/internal';\nimport { getBaseProps } from '../internal/base-component';\nimport InternalPopover from '../popover/internal';\nimport InternalStatusIndicator from '../status-indicator/internal';\nimport styles from './styles.css.js';\nimport testStyles from './test-classes/styles.css.js';\nexport default function InternalCopyToClipboard(_a) {\n  var {\n      variant = 'button',\n      copyButtonAriaLabel,\n      copyButtonText,\n      copySuccessText,\n      copyErrorText,\n      textToCopy,\n      textToDisplay,\n      popoverRenderWithPortal,\n      __internalRootRef = null\n    } = _a,\n    restProps = __rest(_a, [\"variant\", \"copyButtonAriaLabel\", \"copyButtonText\", \"copySuccessText\", \"copyErrorText\", \"textToCopy\", \"textToDisplay\", \"popoverRenderWithPortal\", \"__internalRootRef\"]);\n  const [status, setStatus] = useState('pending');\n  const [statusText, setStatusText] = useState('');\n  const baseProps = getBaseProps(restProps);\n  const onClick = () => {\n    if (!navigator.clipboard) {\n      // The clipboard API is not available in insecure contexts.\n      setStatus('error');\n      setStatusText(copyErrorText);\n      return;\n    }\n    setStatus('pending');\n    setStatusText('');\n    navigator.clipboard.writeText(textToCopy).then(() => {\n      setStatus('success');\n      setStatusText(copySuccessText);\n    }).catch(() => {\n      setStatus('error');\n      setStatusText(copyErrorText);\n    });\n  };\n  const triggerVariant = {\n    button: 'normal',\n    icon: 'icon',\n    inline: 'inline-icon'\n  }[variant];\n  const isInline = variant === 'inline';\n  const trigger = React.createElement(InternalPopover, {\n    isInline: isInline,\n    size: \"medium\",\n    position: \"top\",\n    triggerType: \"custom\",\n    dismissButton: false,\n    renderWithPortal: popoverRenderWithPortal,\n    content: React.createElement(InternalStatusIndicator, {\n      type: status\n    }, statusText),\n    __onOpen: onClick\n  }, React.createElement(InternalButton, {\n    ariaLabel: copyButtonAriaLabel !== null && copyButtonAriaLabel !== void 0 ? copyButtonAriaLabel : copyButtonText,\n    iconName: \"copy\",\n    variant: triggerVariant,\n    wrapText: false,\n    formAction: \"none\"\n  }, copyButtonText));\n  return React.createElement(\"span\", Object.assign({}, baseProps, {\n    ref: __internalRootRef,\n    className: clsx(baseProps.className, styles.root, testStyles.root)\n  }), isInline ? React.createElement(\"span\", {\n    className: styles['inline-container']\n  }, React.createElement(\"span\", {\n    className: styles['inline-container-trigger']\n  }, trigger), React.createElement(\"span\", {\n    className: clsx(testStyles['text-to-display'], testStyles['text-to-copy'])\n  }, textToDisplay !== null && textToDisplay !== void 0 ? textToDisplay : textToCopy)) : trigger);\n}","map":{"version":3,"names":["React","useState","clsx","InternalButton","getBaseProps","InternalPopover","InternalStatusIndicator","styles","testStyles","InternalCopyToClipboard","_a","variant","copyButtonAriaLabel","copyButtonText","copySuccessText","copyErrorText","textToCopy","textToDisplay","popoverRenderWithPortal","__internalRootRef","restProps","__rest","status","setStatus","statusText","setStatusText","baseProps","onClick","navigator","clipboard","writeText","then","catch","triggerVariant","button","icon","inline","isInline","trigger","createElement","size","position","triggerType","dismissButton","renderWithPortal","content","type","__onOpen","ariaLabel","iconName","wrapText","formAction","Object","assign","ref","className","root"],"sources":["/Users/theo/Library/CloudStorage/OneDrive-RackspaceInc/Documents/aws_hackathon/react-client/node_modules/src/copy-to-clipboard/internal.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useState } from 'react';\nimport clsx from 'clsx';\n\nimport InternalButton from '../button/internal';\nimport { getBaseProps } from '../internal/base-component';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\nimport InternalPopover from '../popover/internal';\nimport InternalStatusIndicator from '../status-indicator/internal';\nimport { CopyToClipboardProps } from './interfaces';\n\nimport styles from './styles.css.js';\nimport testStyles from './test-classes/styles.css.js';\n\ninterface InternalCopyToClipboardProps extends CopyToClipboardProps, InternalBaseComponentProps {}\n\nexport default function InternalCopyToClipboard({\n  variant = 'button',\n  copyButtonAriaLabel,\n  copyButtonText,\n  copySuccessText,\n  copyErrorText,\n  textToCopy,\n  textToDisplay,\n  popoverRenderWithPortal,\n  __internalRootRef = null,\n  ...restProps\n}: InternalCopyToClipboardProps) {\n  const [status, setStatus] = useState<'pending' | 'success' | 'error'>('pending');\n  const [statusText, setStatusText] = useState('');\n\n  const baseProps = getBaseProps(restProps);\n  const onClick = () => {\n    if (!navigator.clipboard) {\n      // The clipboard API is not available in insecure contexts.\n      setStatus('error');\n      setStatusText(copyErrorText);\n      return;\n    }\n\n    setStatus('pending');\n    setStatusText('');\n    navigator.clipboard\n      .writeText(textToCopy)\n      .then(() => {\n        setStatus('success');\n        setStatusText(copySuccessText);\n      })\n      .catch(() => {\n        setStatus('error');\n        setStatusText(copyErrorText);\n      });\n  };\n\n  const triggerVariant = (\n    {\n      button: 'normal',\n      icon: 'icon',\n      inline: 'inline-icon',\n    } as const\n  )[variant];\n\n  const isInline = variant === 'inline';\n  const trigger = (\n    <InternalPopover\n      isInline={isInline}\n      size=\"medium\"\n      position=\"top\"\n      triggerType=\"custom\"\n      dismissButton={false}\n      renderWithPortal={popoverRenderWithPortal}\n      content={<InternalStatusIndicator type={status}>{statusText}</InternalStatusIndicator>}\n      __onOpen={onClick}\n    >\n      <InternalButton\n        ariaLabel={copyButtonAriaLabel ?? copyButtonText}\n        iconName=\"copy\"\n        variant={triggerVariant}\n        wrapText={false}\n        formAction=\"none\"\n      >\n        {copyButtonText}\n      </InternalButton>\n    </InternalPopover>\n  );\n\n  return (\n    <span {...baseProps} ref={__internalRootRef} className={clsx(baseProps.className, styles.root, testStyles.root)}>\n      {isInline ? (\n        <span className={styles['inline-container']}>\n          <span className={styles['inline-container-trigger']}>{trigger}</span>\n          <span className={clsx(testStyles['text-to-display'], testStyles['text-to-copy'])}>\n            {textToDisplay ?? textToCopy}\n          </span>\n        </span>\n      ) : (\n        trigger\n      )}\n    </span>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}