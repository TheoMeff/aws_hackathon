{"ast":null,"code":"import { __rest } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useImperativeHandle, useRef } from 'react';\nimport clsx from 'clsx';\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\nimport { useMergeRefs, warnOnce } from '@cloudscape-design/component-toolkit/internal';\nimport { getAnalyticsMetadataAttribute } from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\nimport InternalContainer from '../container/internal';\nimport { useFunnelSubStep } from '../internal/analytics/hooks/use-funnel';\nimport { getAnalyticsMetadataProps, getBaseProps } from '../internal/base-component';\nimport { getVisualContextClassname } from '../internal/components/visual-context';\nimport { CollectionLabelContext } from '../internal/context/collection-label-context';\nimport { LinkDefaultVariantContext } from '../internal/context/link-default-variant-context';\nimport { TableComponentsContextProvider } from '../internal/context/table-component-context';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { useMobile } from '../internal/hooks/use-mobile';\nimport useMouseDownTarget from '../internal/hooks/use-mouse-down-target';\nimport { usePerformanceMarks } from '../internal/hooks/use-performance-marks';\nimport { usePrevious } from '../internal/hooks/use-previous';\nimport { useScrollSync } from '../internal/hooks/use-scroll-sync';\nimport { useTableInteractionMetrics } from '../internal/hooks/use-table-interaction-metrics';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport { isDevelopment } from '../internal/is-development';\nimport InternalLiveRegion from '../live-region/internal';\nimport { TableBodyCell } from './body-cell';\nimport { checkColumnWidths } from './column-widths-utils';\nimport { useExpandableTableProps } from './expandable-rows/expandable-rows-utils';\nimport { NoDataCell } from './no-data-cell';\nimport { getLoaderContent } from './progressive-loading/items-loader';\nimport { TableLoaderCell } from './progressive-loading/loader-cell';\nimport { useProgressiveLoadingProps } from './progressive-loading/progressive-loading-utils';\nimport { ResizeTracker } from './resizer';\nimport { focusMarkers, useSelection, useSelectionFocusMove } from './selection';\nimport { TableBodySelectionCell } from './selection/selection-cell';\nimport { useStickyColumns } from './sticky-columns';\nimport StickyHeader from './sticky-header';\nimport { StickyScrollbar } from './sticky-scrollbar';\nimport { getTableRoleProps, getTableRowRoleProps, getTableWrapperRoleProps, GridNavigationProvider } from './table-role';\nimport Thead from './thead';\nimport ToolsHeader from './tools-header';\nimport { useCellEditing } from './use-cell-editing';\nimport { ColumnWidthsProvider, DEFAULT_COLUMN_WIDTH } from './use-column-widths';\nimport { usePreventStickyClickScroll } from './use-prevent-sticky-click-scroll';\nimport { useRowEvents } from './use-row-events';\nimport useTableFocusNavigation from './use-table-focus-navigation';\nimport { checkSortingState, getColumnKey, getItemKey, getVisibleColumnDefinitions, toContainerVariant } from './utils';\nimport buttonStyles from '../button/styles.css.js';\nimport headerStyles from '../header/styles.css.js';\nimport styles from './styles.css.js';\nconst GRID_NAVIGATION_PAGE_SIZE = 10;\nconst SELECTION_COLUMN_WIDTH = 54;\nconst selectionColumnId = Symbol('selection-column-id');\nexport const InternalTableAsSubstep = React.forwardRef((props, ref) => {\n  const {\n    funnelSubStepProps\n  } = useFunnelSubStep();\n  const tableProps = Object.assign(Object.assign({}, props), {\n    __funnelSubStepProps: funnelSubStepProps\n  });\n  return React.createElement(InternalTable, Object.assign({}, tableProps, {\n    ref: ref\n  }));\n});\nconst InternalTable = React.forwardRef((_a, ref) => {\n  var _b, _c, _d;\n  var {\n      header,\n      footer,\n      empty,\n      filter,\n      pagination,\n      preferences,\n      items,\n      columnDefinitions,\n      trackBy,\n      loading,\n      loadingText,\n      selectionType,\n      selectedItems,\n      isItemDisabled,\n      ariaLabels,\n      onSelectionChange,\n      onSortingChange,\n      sortingColumn,\n      sortingDescending,\n      sortingDisabled,\n      visibleColumns,\n      stickyHeader,\n      stickyHeaderVerticalOffset,\n      onRowClick,\n      onRowContextMenu,\n      wrapLines,\n      stripedRows,\n      contentDensity,\n      submitEdit,\n      onEditCancel,\n      resizableColumns,\n      onColumnWidthsChange,\n      variant,\n      __internalRootRef,\n      totalItemsCount,\n      firstIndex,\n      renderAriaLive,\n      stickyColumns,\n      columnDisplay,\n      enableKeyboardNavigation,\n      expandableRows,\n      getLoadingStatus,\n      renderLoaderPending,\n      renderLoaderLoading,\n      renderLoaderError,\n      renderLoaderEmpty,\n      cellVerticalAlign,\n      __funnelSubStepProps\n    } = _a,\n    rest = __rest(_a, [\"header\", \"footer\", \"empty\", \"filter\", \"pagination\", \"preferences\", \"items\", \"columnDefinitions\", \"trackBy\", \"loading\", \"loadingText\", \"selectionType\", \"selectedItems\", \"isItemDisabled\", \"ariaLabels\", \"onSelectionChange\", \"onSortingChange\", \"sortingColumn\", \"sortingDescending\", \"sortingDisabled\", \"visibleColumns\", \"stickyHeader\", \"stickyHeaderVerticalOffset\", \"onRowClick\", \"onRowContextMenu\", \"wrapLines\", \"stripedRows\", \"contentDensity\", \"submitEdit\", \"onEditCancel\", \"resizableColumns\", \"onColumnWidthsChange\", \"variant\", \"__internalRootRef\", \"totalItemsCount\", \"firstIndex\", \"renderAriaLive\", \"stickyColumns\", \"columnDisplay\", \"enableKeyboardNavigation\", \"expandableRows\", \"getLoadingStatus\", \"renderLoaderPending\", \"renderLoaderLoading\", \"renderLoaderError\", \"renderLoaderEmpty\", \"cellVerticalAlign\", \"__funnelSubStepProps\"]);\n  // Keyboard navigation defaults to `true` for tables with expandable rows.\n  if (expandableRows && enableKeyboardNavigation === undefined) {\n    enableKeyboardNavigation = true;\n  }\n  const baseProps = getBaseProps(rest);\n  const prevStickyHeader = usePrevious(stickyHeader);\n  if (prevStickyHeader !== undefined && !!stickyHeader !== !!prevStickyHeader) {\n    warnOnce('Table', `\\`stickyHeader\\` has changed from \"${prevStickyHeader}\" to \"${stickyHeader}\". It is not recommended to change the value of this property during the component lifecycle. Please set it to either \"true\" or \"false\" unconditionally.`);\n  }\n  const isMobile = useMobile();\n  const {\n    isExpandable,\n    allItems,\n    getExpandableItemProps\n  } = useExpandableTableProps({\n    items,\n    expandableRows,\n    trackBy,\n    ariaLabels\n  });\n  const {\n    allRows\n  } = useProgressiveLoadingProps({\n    items: allItems,\n    getLoadingStatus,\n    getExpandableItemProps\n  });\n  const [containerWidth, wrapperMeasureRef] = useContainerQuery(rect => rect.contentBoxWidth);\n  const wrapperMeasureRefObject = useRef(null);\n  const wrapperMeasureMergedRef = useMergeRefs(wrapperMeasureRef, wrapperMeasureRefObject);\n  const [tableWidth, tableMeasureRef] = useContainerQuery(rect => rect.contentBoxWidth);\n  const tableRefObject = useRef(null);\n  const secondaryWrapperRef = React.useRef(null);\n  const theadRef = useRef(null);\n  const stickyHeaderRef = React.useRef(null);\n  const scrollbarRef = React.useRef(null);\n  const _e = useCellEditing({\n      onCancel: onEditCancel,\n      onSubmit: submitEdit\n    }),\n    {\n      cancelEdit\n    } = _e,\n    cellEditing = __rest(_e, [\"cancelEdit\"]);\n  const paginationRef = useRef({});\n  const filterRef = useRef({});\n  const preferencesRef = useRef({});\n  const headerRef = useRef({});\n  /* istanbul ignore next: performance marks do not work in JSDOM */\n  const getHeaderText = () => {\n    var _a, _b, _c, _d;\n    return (_c = (_b = (_a = toolsHeaderPerformanceMarkRef.current) === null || _a === void 0 ? void 0 : _a.querySelector(`.${headerStyles['heading-text']}`)) === null || _b === void 0 ? void 0 : _b.innerText) !== null && _c !== void 0 ? _c : (_d = toolsHeaderPerformanceMarkRef.current) === null || _d === void 0 ? void 0 : _d.innerText;\n  };\n  const getPatternIdentifier = () => {\n    var _a;\n    const hasActions = !!((_a = toolsHeaderPerformanceMarkRef.current) === null || _a === void 0 ? void 0 : _a.querySelector(`.${headerStyles.actions} .${buttonStyles.button}`));\n    if (hasActions) {\n      return 'table-with-actions';\n    }\n    return '';\n  };\n  const performanceMarkAttributes = usePerformanceMarks('table', () => !loading, tableRefObject, () => ({\n    loading: loading !== null && loading !== void 0 ? loading : false,\n    header: getHeaderText()\n  }), [loading]);\n  const analyticsMetadata = getAnalyticsMetadataProps(rest);\n  const interactionMetadata = () => {\n    const filterData = filterRef.current;\n    const paginationData = paginationRef.current;\n    return JSON.stringify({\n      filterData,\n      paginationData,\n      sortingColumn: sortingColumn === null || sortingColumn === void 0 ? void 0 : sortingColumn.sortingField,\n      sortingOrder: sortingColumn ? sortingDescending ? 'Descending' : 'Ascending' : undefined\n    });\n  };\n  const getComponentConfiguration = () => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\n    const headerData = headerRef.current;\n    const filterData = filterRef.current;\n    const paginationData = paginationRef.current;\n    const preferencesData = preferencesRef.current;\n    return {\n      variant,\n      flowType: (_a = rest.analyticsMetadata) === null || _a === void 0 ? void 0 : _a.flowType,\n      resourceType: (_b = rest.analyticsMetadata) === null || _b === void 0 ? void 0 : _b.resourceType,\n      instanceIdentifier: analyticsMetadata === null || analyticsMetadata === void 0 ? void 0 : analyticsMetadata.instanceIdentifier,\n      taskName: (_c = analyticsMetadata === null || analyticsMetadata === void 0 ? void 0 : analyticsMetadata.instanceIdentifier) !== null && _c !== void 0 ? _c : getHeaderText(),\n      uxTaskName: getHeaderText(),\n      patternIdentifier: getPatternIdentifier(),\n      sortedBy: {\n        columnId: sortingColumn === null || sortingColumn === void 0 ? void 0 : sortingColumn.sortingField,\n        sortingOrder: sortingColumn ? sortingDescending ? 'desc' : 'asc' : undefined\n      },\n      filtered: (_d = filterData === null || filterData === void 0 ? void 0 : filterData.filtered) !== null && _d !== void 0 ? _d : null,\n      filteredBy: (_e = filterData === null || filterData === void 0 ? void 0 : filterData.filteredBy) !== null && _e !== void 0 ? _e : [],\n      filteredCount: (_f = filterData === null || filterData === void 0 ? void 0 : filterData.filterCount) !== null && _f !== void 0 ? _f : null,\n      totalNumberOfResources: (_g = headerData === null || headerData === void 0 ? void 0 : headerData.totalCount) !== null && _g !== void 0 ? _g : null,\n      tablePreferences: {\n        visibleColumns: (_h = preferencesData === null || preferencesData === void 0 ? void 0 : preferencesData.visibleColumns) !== null && _h !== void 0 ? _h : [],\n        resourcesPerPage: (_j = preferencesData === null || preferencesData === void 0 ? void 0 : preferencesData.pageSize) !== null && _j !== void 0 ? _j : null\n      },\n      pagination: {\n        currentPageIndex: (_k = paginationData === null || paginationData === void 0 ? void 0 : paginationData.currentPageIndex) !== null && _k !== void 0 ? _k : 0,\n        totalNumberOfPages: (paginationData === null || paginationData === void 0 ? void 0 : paginationData.openEnd) ? null : (_l = paginationData === null || paginationData === void 0 ? void 0 : paginationData.totalPageCount) !== null && _l !== void 0 ? _l : null,\n        openEnd: Boolean(paginationData === null || paginationData === void 0 ? void 0 : paginationData.openEnd)\n      },\n      resourcesSelected: (selectedItems === null || selectedItems === void 0 ? void 0 : selectedItems.length) > 0\n    };\n  };\n  const {\n    setLastUserAction,\n    tableInteractionAttributes\n  } = useTableInteractionMetrics({\n    elementRef: tableRefObject,\n    loading,\n    items,\n    instanceIdentifier: analyticsMetadata === null || analyticsMetadata === void 0 ? void 0 : analyticsMetadata.instanceIdentifier,\n    itemCount: items.length,\n    getComponentIdentifier: getHeaderText,\n    getComponentConfiguration,\n    interactionMetadata\n  });\n  useImperativeHandle(ref, () => {\n    var _a;\n    return {\n      scrollToTop: ((_a = stickyHeaderRef.current) === null || _a === void 0 ? void 0 : _a.scrollToTop) || (() => undefined),\n      cancelEdit\n    };\n  }, [cancelEdit]);\n  const wrapperRefObject = useRef(null);\n  const handleScroll = useScrollSync([wrapperRefObject, scrollbarRef, secondaryWrapperRef]);\n  const {\n    moveFocusDown,\n    moveFocusUp,\n    moveFocus\n  } = useSelectionFocusMove(selectionType, allItems.length);\n  const {\n    onRowClickHandler,\n    onRowContextMenuHandler\n  } = useRowEvents({\n    onRowClick,\n    onRowContextMenu\n  });\n  const visibleColumnDefinitions = getVisibleColumnDefinitions({\n    columnDefinitions,\n    columnDisplay,\n    visibleColumns\n  });\n  const {\n    isItemSelected,\n    getSelectAllProps,\n    getItemSelectionProps\n  } = useSelection({\n    items: allItems,\n    trackBy,\n    selectedItems,\n    selectionType,\n    isItemDisabled,\n    onSelectionChange,\n    ariaLabels: Object.assign(Object.assign({}, ariaLabels), {\n      // `selectionGroupLabel` should not be part of the selection control, it is already part of the selection column header.\n      selectionGroupLabel: undefined\n    }),\n    loading,\n    setLastUserAction\n  });\n  const isRowSelected = row => row.type === 'data' && isItemSelected(row.item);\n  if (isDevelopment) {\n    if (resizableColumns) {\n      checkColumnWidths(columnDefinitions);\n    }\n    if (sortingColumn === null || sortingColumn === void 0 ? void 0 : sortingColumn.sortingComparator) {\n      checkSortingState(columnDefinitions, sortingColumn.sortingComparator);\n    }\n  }\n  const isVisualRefresh = useVisualRefresh();\n  const computedVariant = isVisualRefresh ? variant : ['embedded', 'full-page'].indexOf(variant) > -1 ? 'container' : variant;\n  const hasHeader = !!(header || filter || pagination || preferences);\n  const hasSelection = !!selectionType;\n  const hasFooterPagination = isMobile && variant === 'full-page' && !!pagination;\n  const hasFooter = !!footer || hasFooterPagination;\n  const headerIdRef = useRef(undefined);\n  const isLabelledByHeader = !(ariaLabels === null || ariaLabels === void 0 ? void 0 : ariaLabels.tableLabel) && !!header;\n  const ariaLabelledby = isLabelledByHeader && headerIdRef.current ? headerIdRef.current : undefined;\n  const setHeaderRef = useCallback(id => {\n    headerIdRef.current = id;\n  }, []);\n  const visibleColumnWidthsWithSelection = [];\n  const visibleColumnIdsWithSelection = [];\n  if (hasSelection) {\n    visibleColumnWidthsWithSelection.push({\n      id: selectionColumnId,\n      width: SELECTION_COLUMN_WIDTH\n    });\n    visibleColumnIdsWithSelection.push(selectionColumnId);\n  }\n  for (let columnIndex = 0; columnIndex < visibleColumnDefinitions.length; columnIndex++) {\n    const columnId = getColumnKey(visibleColumnDefinitions[columnIndex], columnIndex);\n    visibleColumnWidthsWithSelection.push(Object.assign(Object.assign({}, visibleColumnDefinitions[columnIndex]), {\n      id: columnId\n    }));\n    visibleColumnIdsWithSelection.push(columnId);\n  }\n  const stickyState = useStickyColumns({\n    visibleColumns: visibleColumnIdsWithSelection,\n    stickyColumnsFirst: ((_b = stickyColumns === null || stickyColumns === void 0 ? void 0 : stickyColumns.first) !== null && _b !== void 0 ? _b : 0) + ((stickyColumns === null || stickyColumns === void 0 ? void 0 : stickyColumns.first) && hasSelection ? 1 : 0),\n    stickyColumnsLast: (stickyColumns === null || stickyColumns === void 0 ? void 0 : stickyColumns.last) || 0\n  });\n  const hasStickyColumns = !!(((_c = stickyColumns === null || stickyColumns === void 0 ? void 0 : stickyColumns.first) !== null && _c !== void 0 ? _c : 0) + ((_d = stickyColumns === null || stickyColumns === void 0 ? void 0 : stickyColumns.last) !== null && _d !== void 0 ? _d : 0) > 0);\n  const hasEditableCells = !!columnDefinitions.find(col => col.editConfig);\n  let tableRole = 'table';\n  if (isExpandable) {\n    tableRole = 'treegrid';\n  } else if (enableKeyboardNavigation) {\n    tableRole = 'grid';\n  } else if (hasEditableCells) {\n    tableRole = 'grid-default';\n  }\n  const theadProps = {\n    selectionType,\n    getSelectAllProps,\n    columnDefinitions: visibleColumnDefinitions,\n    variant: computedVariant,\n    wrapLines,\n    resizableColumns,\n    sortingColumn,\n    sortingDisabled,\n    sortingDescending,\n    onSortingChange,\n    onFocusMove: moveFocus,\n    onResizeFinish(newWidth) {\n      const widthsDetail = columnDefinitions.map((column, index) => newWidth.get(getColumnKey(column, index)) || column.width || DEFAULT_COLUMN_WIDTH);\n      const widthsChanged = widthsDetail.some((width, index) => columnDefinitions[index].width !== width);\n      if (widthsChanged) {\n        fireNonCancelableEvent(onColumnWidthsChange, {\n          widths: widthsDetail\n        });\n      }\n    },\n    singleSelectionHeaderAriaLabel: ariaLabels === null || ariaLabels === void 0 ? void 0 : ariaLabels.selectionGroupLabel,\n    resizerRoleDescription: ariaLabels === null || ariaLabels === void 0 ? void 0 : ariaLabels.resizerRoleDescription,\n    stripedRows,\n    stickyState,\n    selectionColumnId,\n    tableRole,\n    isExpandable,\n    setLastUserAction\n  };\n  usePreventStickyClickScroll(wrapperRefObject);\n  const wrapperRef = useMergeRefs(wrapperRefObject, stickyState.refs.wrapper);\n  const tableRef = useMergeRefs(tableMeasureRef, tableRefObject, stickyState.refs.table);\n  const wrapperProps = getTableWrapperRoleProps({\n    tableRole,\n    isScrollable: !!(tableWidth && containerWidth && tableWidth > containerWidth),\n    ariaLabel: ariaLabels === null || ariaLabels === void 0 ? void 0 : ariaLabels.tableLabel,\n    ariaLabelledby\n  });\n  const getMouseDownTarget = useMouseDownTarget();\n  useTableFocusNavigation({\n    enableKeyboardNavigation,\n    selectionType,\n    tableRoot: tableRefObject,\n    columnDefinitions: visibleColumnDefinitions,\n    numRows: allRows === null || allRows === void 0 ? void 0 : allRows.length\n  });\n  const toolsHeaderPerformanceMarkRef = useRef(null);\n  // If is mobile, we take into consideration the AppLayout's mobile bar and we subtract the tools wrapper height so only the table header is sticky\n  const [toolsHeaderHeight, toolsHeaderWrapperMeasureRef] = useContainerQuery(rect => rect.borderBoxHeight);\n  const toolsHeaderWrapper = useMergeRefs(toolsHeaderPerformanceMarkRef, toolsHeaderWrapperMeasureRef);\n  const colIndexOffset = selectionType ? 1 : 0;\n  const totalColumnsCount = visibleColumnDefinitions.length + colIndexOffset;\n  return React.createElement(LinkDefaultVariantContext.Provider, {\n    value: {\n      defaultVariant: 'primary'\n    }\n  }, React.createElement(TableComponentsContextProvider, {\n    value: {\n      paginationRef,\n      filterRef,\n      preferencesRef,\n      headerRef\n    }\n  }, React.createElement(ColumnWidthsProvider, {\n    visibleColumns: visibleColumnWidthsWithSelection,\n    resizableColumns: resizableColumns,\n    containerRef: wrapperMeasureRefObject\n  }, React.createElement(InternalContainer, Object.assign({}, baseProps, tableInteractionAttributes, {\n    __internalRootRef: __internalRootRef,\n    className: clsx(baseProps.className, styles.root),\n    __funnelSubStepProps: __funnelSubStepProps,\n    __fullPage: variant === 'full-page',\n    header: React.createElement(React.Fragment, null, hasHeader && React.createElement(\"div\", null, React.createElement(\"div\", {\n      ref: toolsHeaderWrapper,\n      className: clsx(styles['header-controls'], styles[`variant-${computedVariant}`])\n    }, React.createElement(CollectionLabelContext.Provider, {\n      value: {\n        assignId: setHeaderRef\n      }\n    }, React.createElement(ToolsHeader, {\n      header: header,\n      filter: filter,\n      pagination: pagination,\n      preferences: preferences,\n      setLastUserAction: setLastUserAction\n    })))), stickyHeader && React.createElement(StickyHeader, {\n      ref: stickyHeaderRef,\n      variant: computedVariant,\n      theadProps: theadProps,\n      wrapperRef: wrapperRefObject,\n      theadRef: theadRef,\n      secondaryWrapperRef: secondaryWrapperRef,\n      tableRef: tableRefObject,\n      onScroll: handleScroll,\n      tableHasHeader: hasHeader,\n      contentDensity: contentDensity,\n      tableRole: tableRole\n    })),\n    disableHeaderPaddings: true,\n    disableContentPaddings: true,\n    variant: toContainerVariant(computedVariant),\n    __disableFooterPaddings: true,\n    __disableFooterDivider: true,\n    __disableStickyMobile: false,\n    footer: hasFooter ? React.createElement(\"div\", {\n      className: clsx(styles['footer-wrapper'], styles[`variant-${computedVariant}`])\n    }, React.createElement(\"div\", {\n      className: clsx(styles.footer, hasFooterPagination && styles['footer-with-pagination'])\n    }, footer && React.createElement(\"span\", null, footer), hasFooterPagination && React.createElement(\"div\", {\n      className: styles['footer-pagination']\n    }, pagination))) : null,\n    __stickyHeader: stickyHeader,\n    __mobileStickyOffset: toolsHeaderHeight !== null && toolsHeaderHeight !== void 0 ? toolsHeaderHeight : 0,\n    __stickyOffset: stickyHeaderVerticalOffset\n  }, focusMarkers.root), React.createElement(\"div\", Object.assign({\n    ref: wrapperRef,\n    className: clsx(styles.wrapper, styles[`variant-${computedVariant}`], {\n      [styles['has-footer']]: hasFooter,\n      [styles['has-header']]: hasHeader\n    }),\n    style: stickyState.style.wrapper,\n    onScroll: handleScroll\n  }, wrapperProps), React.createElement(\"div\", {\n    className: styles['wrapper-content-measure'],\n    ref: wrapperMeasureMergedRef\n  }), !!renderAriaLive && !!firstIndex && React.createElement(InternalLiveRegion, {\n    hidden: true,\n    tagName: \"span\"\n  }, React.createElement(\"span\", null, renderAriaLive({\n    firstIndex,\n    lastIndex: firstIndex + items.length - 1,\n    visibleItemsCount: allItems.length,\n    totalItemsCount\n  }))), React.createElement(GridNavigationProvider, {\n    keyboardNavigation: !!enableKeyboardNavigation,\n    pageSize: GRID_NAVIGATION_PAGE_SIZE,\n    getTable: () => tableRefObject.current\n  }, React.createElement(\"table\", Object.assign({}, performanceMarkAttributes, {\n    ref: tableRef,\n    className: clsx(styles.table, resizableColumns && styles['table-layout-fixed'], contentDensity === 'compact' && getVisualContextClassname('compact-table'))\n  }, getTableRoleProps({\n    tableRole,\n    totalItemsCount,\n    totalColumnsCount: totalColumnsCount,\n    ariaLabel: ariaLabels === null || ariaLabels === void 0 ? void 0 : ariaLabels.tableLabel,\n    ariaLabelledby\n  })), React.createElement(Thead, Object.assign({\n    ref: theadRef,\n    hidden: stickyHeader,\n    onFocusedComponentChange: focusId => {\n      var _a;\n      return (_a = stickyHeaderRef.current) === null || _a === void 0 ? void 0 : _a.setFocus(focusId);\n    }\n  }, theadProps)), React.createElement(\"tbody\", null, loading || allItems.length === 0 ? React.createElement(\"tr\", null, React.createElement(NoDataCell, {\n    totalColumnsCount: totalColumnsCount,\n    hasFooter: hasFooter,\n    loading: loading,\n    loadingText: loadingText,\n    empty: empty,\n    tableRef: tableRefObject,\n    containerRef: wrapperMeasureRefObject\n  })) : allRows.map((row, rowIndex) => {\n    const isFirstRow = rowIndex === 0;\n    const isLastRow = rowIndex === allRows.length - 1;\n    const expandableProps = row.type === 'data' ? getExpandableItemProps(row.item) : undefined;\n    const rowRoleProps = getTableRowRoleProps(Object.assign({\n      tableRole,\n      firstIndex,\n      rowIndex,\n      level: row.type === 'loader' ? row.level : undefined\n    }, expandableProps));\n    const getTableItemKey = item => getItemKey(trackBy, item, rowIndex);\n    const sharedCellProps = {\n      isFirstRow,\n      isLastRow,\n      isSelected: hasSelection && isRowSelected(row),\n      isPrevSelected: hasSelection && !isFirstRow && isRowSelected(allRows[rowIndex - 1]),\n      isNextSelected: hasSelection && !isLastRow && isRowSelected(allRows[rowIndex + 1]),\n      isEvenRow: rowIndex % 2 === 0,\n      stripedRows,\n      hasSelection,\n      hasFooter,\n      stickyState,\n      tableRole\n    };\n    if (row.type === 'data') {\n      const rowId = `${getTableItemKey(row.item)}`;\n      return React.createElement(\"tr\", Object.assign({\n        key: rowId,\n        className: clsx(styles.row, sharedCellProps.isSelected && styles['row-selected']),\n        onFocus: ({\n          currentTarget\n        }) => {\n          var _a;\n          // When an element inside table row receives focus we want to adjust the scroll.\n          // However, that behaviour is unwanted when the focus is received as result of a click\n          // as it causes the click to never reach the target element.\n          if (!currentTarget.contains(getMouseDownTarget())) {\n            (_a = stickyHeaderRef.current) === null || _a === void 0 ? void 0 : _a.scrollToRow(currentTarget);\n          }\n        }\n      }, focusMarkers.item, {\n        onClick: onRowClickHandler && onRowClickHandler.bind(null, rowIndex, row.item),\n        onContextMenu: onRowContextMenuHandler && onRowContextMenuHandler.bind(null, rowIndex, row.item)\n      }, rowRoleProps), getItemSelectionProps && React.createElement(TableBodySelectionCell, Object.assign({}, sharedCellProps, {\n        columnId: selectionColumnId,\n        selectionControlProps: Object.assign(Object.assign({}, getItemSelectionProps(row.item)), {\n          onFocusDown: moveFocusDown,\n          onFocusUp: moveFocusUp,\n          rowIndex,\n          itemKey: rowId\n        }),\n        verticalAlign: cellVerticalAlign\n      })), visibleColumnDefinitions.map((column, colIndex) => {\n        var _a, _b;\n        const colId = `${getColumnKey(column, colIndex)}`;\n        const cellId = {\n          row: rowId,\n          col: colId\n        };\n        const isEditing = cellEditing.checkEditing(cellId);\n        const successfulEdit = cellEditing.checkLastSuccessfulEdit(cellId);\n        const isEditable = !!column.editConfig && !cellEditing.isLoading;\n        const cellExpandableProps = isExpandable && colIndex === 0 ? expandableProps : undefined;\n        const analyticsMetadata = {\n          component: {\n            innerContext: {\n              position: `${rowIndex + 1},${colIndex + 1}`,\n              columnId: column.id ? `${column.id}` : '',\n              columnLabel: {\n                selector: `table thead tr th:nth-child(${colIndex + (selectionType ? 2 : 1)})`,\n                root: 'component'\n              },\n              item: rowId\n            }\n          }\n        };\n        return React.createElement(TableBodyCell, Object.assign({\n          key: colId\n        }, sharedCellProps, {\n          resizableStyle: {\n            width: column.width,\n            minWidth: column.minWidth,\n            maxWidth: column.maxWidth\n          },\n          ariaLabels: ariaLabels,\n          column: column,\n          item: row.item,\n          wrapLines: wrapLines,\n          isEditable: isEditable,\n          isEditing: isEditing,\n          isRowHeader: column.isRowHeader,\n          successfulEdit: successfulEdit,\n          resizableColumns: resizableColumns,\n          onEditStart: () => cellEditing.startEdit(cellId),\n          onEditEnd: editCancelled => cellEditing.completeEdit(cellId, editCancelled),\n          submitEdit: cellEditing.submitEdit,\n          columnId: (_a = column.id) !== null && _a !== void 0 ? _a : colIndex,\n          colIndex: colIndex + colIndexOffset,\n          verticalAlign: (_b = column.verticalAlign) !== null && _b !== void 0 ? _b : cellVerticalAlign\n        }, cellExpandableProps, getAnalyticsMetadataAttribute(analyticsMetadata)));\n      }));\n    }\n    const loaderContent = getLoaderContent({\n      item: row.item,\n      loadingStatus: row.status,\n      renderLoaderPending,\n      renderLoaderLoading,\n      renderLoaderError,\n      renderLoaderEmpty\n    });\n    return loaderContent && React.createElement(\"tr\", Object.assign({\n      key: (row.item ? getTableItemKey(row.item) : 'root-' + rowIndex) + '-' + row.from,\n      className: styles.row\n    }, rowRoleProps), getItemSelectionProps && React.createElement(TableBodySelectionCell, Object.assign({}, sharedCellProps, {\n      columnId: selectionColumnId,\n      verticalAlign: cellVerticalAlign\n    })), visibleColumnDefinitions.map((column, colIndex) => {\n      var _a;\n      return React.createElement(TableLoaderCell, Object.assign({\n        key: getColumnKey(column, colIndex)\n      }, sharedCellProps, {\n        wrapLines: false,\n        columnId: (_a = column.id) !== null && _a !== void 0 ? _a : colIndex,\n        colIndex: colIndex + colIndexOffset,\n        isRowHeader: colIndex === 0,\n        level: row.level,\n        item: row.item,\n        trackBy: trackBy\n      }), loaderContent);\n    }));\n  })))), resizableColumns && React.createElement(ResizeTracker, null)), React.createElement(StickyScrollbar, {\n    ref: scrollbarRef,\n    wrapperRef: wrapperRefObject,\n    tableRef: tableRefObject,\n    onScroll: handleScroll,\n    hasStickyColumns: hasStickyColumns\n  })))));\n});\nexport default InternalTable;","map":{"version":3,"names":["React","useCallback","useImperativeHandle","useRef","clsx","useContainerQuery","useMergeRefs","warnOnce","getAnalyticsMetadataAttribute","InternalContainer","useFunnelSubStep","getAnalyticsMetadataProps","getBaseProps","getVisualContextClassname","CollectionLabelContext","LinkDefaultVariantContext","TableComponentsContextProvider","fireNonCancelableEvent","useMobile","useMouseDownTarget","usePerformanceMarks","usePrevious","useScrollSync","useTableInteractionMetrics","useVisualRefresh","isDevelopment","InternalLiveRegion","TableBodyCell","checkColumnWidths","useExpandableTableProps","NoDataCell","getLoaderContent","TableLoaderCell","useProgressiveLoadingProps","ResizeTracker","focusMarkers","useSelection","useSelectionFocusMove","TableBodySelectionCell","useStickyColumns","StickyHeader","StickyScrollbar","getTableRoleProps","getTableRowRoleProps","getTableWrapperRoleProps","GridNavigationProvider","Thead","ToolsHeader","useCellEditing","ColumnWidthsProvider","DEFAULT_COLUMN_WIDTH","usePreventStickyClickScroll","useRowEvents","useTableFocusNavigation","checkSortingState","getColumnKey","getItemKey","getVisibleColumnDefinitions","toContainerVariant","buttonStyles","headerStyles","styles","GRID_NAVIGATION_PAGE_SIZE","SELECTION_COLUMN_WIDTH","selectionColumnId","Symbol","InternalTableAsSubstep","forwardRef","props","ref","funnelSubStepProps","tableProps","Object","assign","__funnelSubStepProps","createElement","InternalTable","_a","header","footer","empty","filter","pagination","preferences","items","columnDefinitions","trackBy","loading","loadingText","selectionType","selectedItems","isItemDisabled","ariaLabels","onSelectionChange","onSortingChange","sortingColumn","sortingDescending","sortingDisabled","visibleColumns","stickyHeader","stickyHeaderVerticalOffset","onRowClick","onRowContextMenu","wrapLines","stripedRows","contentDensity","submitEdit","onEditCancel","resizableColumns","onColumnWidthsChange","variant","__internalRootRef","totalItemsCount","firstIndex","renderAriaLive","stickyColumns","columnDisplay","enableKeyboardNavigation","expandableRows","getLoadingStatus","renderLoaderPending","renderLoaderLoading","renderLoaderError","renderLoaderEmpty","cellVerticalAlign","rest","__rest","undefined","baseProps","prevStickyHeader","isMobile","isExpandable","allItems","getExpandableItemProps","allRows","containerWidth","wrapperMeasureRef","rect","contentBoxWidth","wrapperMeasureRefObject","wrapperMeasureMergedRef","tableWidth","tableMeasureRef","tableRefObject","secondaryWrapperRef","theadRef","stickyHeaderRef","scrollbarRef","_e","onCancel","onSubmit","cancelEdit","cellEditing","paginationRef","filterRef","preferencesRef","headerRef","getHeaderText","_c","_b","toolsHeaderPerformanceMarkRef","current","querySelector","innerText","_d","getPatternIdentifier","hasActions","actions","button","performanceMarkAttributes","analyticsMetadata","interactionMetadata","filterData","paginationData","JSON","stringify","sortingField","sortingOrder","getComponentConfiguration","headerData","preferencesData","flowType","resourceType","instanceIdentifier","taskName","uxTaskName","patternIdentifier","sortedBy","columnId","filtered","filteredBy","filteredCount","_f","filterCount","totalNumberOfResources","_g","totalCount","tablePreferences","_h","resourcesPerPage","_j","pageSize","currentPageIndex","_k","totalNumberOfPages","openEnd","_l","totalPageCount","Boolean","resourcesSelected","length","setLastUserAction","tableInteractionAttributes","elementRef","itemCount","getComponentIdentifier","scrollToTop","wrapperRefObject","handleScroll","moveFocusDown","moveFocusUp","moveFocus","onRowClickHandler","onRowContextMenuHandler","visibleColumnDefinitions","isItemSelected","getSelectAllProps","getItemSelectionProps","selectionGroupLabel","isRowSelected","row","type","item","sortingComparator","isVisualRefresh","computedVariant","indexOf","hasHeader","hasSelection","hasFooterPagination","hasFooter","headerIdRef","isLabelledByHeader","tableLabel","ariaLabelledby","setHeaderRef","id","visibleColumnWidthsWithSelection","visibleColumnIdsWithSelection","push","width","columnIndex","stickyState","stickyColumnsFirst","first","stickyColumnsLast","last","hasStickyColumns","hasEditableCells","find","col","editConfig","tableRole","theadProps","onFocusMove","onResizeFinish","newWidth","widthsDetail","map","column","index","get","widthsChanged","some","widths","singleSelectionHeaderAriaLabel","resizerRoleDescription","wrapperRef","refs","wrapper","tableRef","table","wrapperProps","isScrollable","ariaLabel","getMouseDownTarget","tableRoot","numRows","toolsHeaderHeight","toolsHeaderWrapperMeasureRef","borderBoxHeight","toolsHeaderWrapper","colIndexOffset","totalColumnsCount","Provider","value","defaultVariant","containerRef","className","root","__fullPage","Fragment","assignId","onScroll","tableHasHeader","disableHeaderPaddings","disableContentPaddings","__disableFooterPaddings","__disableFooterDivider","__disableStickyMobile","__stickyHeader","__mobileStickyOffset","__stickyOffset","style","hidden","tagName","lastIndex","visibleItemsCount","keyboardNavigation","getTable","onFocusedComponentChange","focusId","setFocus","rowIndex","isFirstRow","isLastRow","expandableProps","rowRoleProps","level","getTableItemKey","sharedCellProps","isSelected","isPrevSelected","isNextSelected","isEvenRow","rowId","key","onFocus","currentTarget","contains","scrollToRow","onClick","bind","onContextMenu","selectionControlProps","onFocusDown","onFocusUp","itemKey","verticalAlign","colIndex","colId","cellId","isEditing","checkEditing","successfulEdit","checkLastSuccessfulEdit","isEditable","isLoading","cellExpandableProps","component","innerContext","position","columnLabel","selector","resizableStyle","minWidth","maxWidth","isRowHeader","onEditStart","startEdit","onEditEnd","editCancelled","completeEdit","loaderContent","loadingStatus","status","from"],"sources":["/Users/theo/Library/CloudStorage/OneDrive-RackspaceInc/Documents/aws_hackathon/react-client/node_modules/src/table/internal.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useImperativeHandle, useRef } from 'react';\nimport clsx from 'clsx';\n\nimport { useContainerQuery } from '@cloudscape-design/component-toolkit';\nimport { useMergeRefs, warnOnce } from '@cloudscape-design/component-toolkit/internal';\nimport {\n  GeneratedAnalyticsMetadataFragment,\n  getAnalyticsMetadataAttribute,\n} from '@cloudscape-design/component-toolkit/internal/analytics-metadata';\n\nimport InternalContainer, { InternalContainerProps } from '../container/internal';\nimport { useFunnelSubStep } from '../internal/analytics/hooks/use-funnel';\nimport { getAnalyticsMetadataProps, getBaseProps } from '../internal/base-component';\nimport { getVisualContextClassname } from '../internal/components/visual-context';\nimport { CollectionLabelContext } from '../internal/context/collection-label-context';\nimport { LinkDefaultVariantContext } from '../internal/context/link-default-variant-context';\nimport {\n  FilterRef,\n  HeaderRef,\n  PaginationRef,\n  PreferencesRef,\n  TableComponentsContextProvider,\n} from '../internal/context/table-component-context';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport { InternalBaseComponentProps } from '../internal/hooks/use-base-component';\nimport { useMobile } from '../internal/hooks/use-mobile';\nimport useMouseDownTarget from '../internal/hooks/use-mouse-down-target';\nimport { usePerformanceMarks } from '../internal/hooks/use-performance-marks';\nimport { usePrevious } from '../internal/hooks/use-previous';\nimport { useScrollSync } from '../internal/hooks/use-scroll-sync';\nimport { useTableInteractionMetrics } from '../internal/hooks/use-table-interaction-metrics';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport { isDevelopment } from '../internal/is-development';\nimport { SomeRequired } from '../internal/types';\nimport InternalLiveRegion from '../live-region/internal';\nimport { GeneratedAnalyticsMetadataTableComponent } from './analytics-metadata/interfaces';\nimport { TableBodyCell } from './body-cell';\nimport { checkColumnWidths } from './column-widths-utils';\nimport { useExpandableTableProps } from './expandable-rows/expandable-rows-utils';\nimport { TableForwardRefType, TableProps, TableRow } from './interfaces';\nimport { NoDataCell } from './no-data-cell';\nimport { getLoaderContent } from './progressive-loading/items-loader';\nimport { TableLoaderCell } from './progressive-loading/loader-cell';\nimport { useProgressiveLoadingProps } from './progressive-loading/progressive-loading-utils';\nimport { ResizeTracker } from './resizer';\nimport { focusMarkers, useSelection, useSelectionFocusMove } from './selection';\nimport { TableBodySelectionCell } from './selection/selection-cell';\nimport { useStickyColumns } from './sticky-columns';\nimport StickyHeader, { StickyHeaderRef } from './sticky-header';\nimport { StickyScrollbar } from './sticky-scrollbar';\nimport {\n  getTableRoleProps,\n  getTableRowRoleProps,\n  getTableWrapperRoleProps,\n  GridNavigationProvider,\n  TableRole,\n} from './table-role';\nimport Thead, { TheadProps } from './thead';\nimport ToolsHeader from './tools-header';\nimport { useCellEditing } from './use-cell-editing';\nimport { ColumnWidthDefinition, ColumnWidthsProvider, DEFAULT_COLUMN_WIDTH } from './use-column-widths';\nimport { usePreventStickyClickScroll } from './use-prevent-sticky-click-scroll';\nimport { useRowEvents } from './use-row-events';\nimport useTableFocusNavigation from './use-table-focus-navigation';\nimport { checkSortingState, getColumnKey, getItemKey, getVisibleColumnDefinitions, toContainerVariant } from './utils';\n\nimport buttonStyles from '../button/styles.css.js';\nimport headerStyles from '../header/styles.css.js';\nimport styles from './styles.css.js';\n\nconst GRID_NAVIGATION_PAGE_SIZE = 10;\nconst SELECTION_COLUMN_WIDTH = 54;\nconst selectionColumnId = Symbol('selection-column-id');\n\ntype InternalTableProps<T> = SomeRequired<\n  TableProps<T>,\n  'items' | 'selectedItems' | 'variant' | 'firstIndex' | 'cellVerticalAlign'\n> &\n  InternalBaseComponentProps & {\n    __funnelSubStepProps?: InternalContainerProps['__funnelSubStepProps'];\n  };\n\nexport const InternalTableAsSubstep = React.forwardRef(\n  <T,>(props: InternalTableProps<T>, ref: React.Ref<TableProps.Ref>) => {\n    const { funnelSubStepProps } = useFunnelSubStep();\n\n    const tableProps: InternalTableProps<T> = {\n      ...props,\n      __funnelSubStepProps: funnelSubStepProps,\n    };\n\n    return <InternalTable {...tableProps} ref={ref} />;\n  }\n) as TableForwardRefType;\n\nconst InternalTable = React.forwardRef(\n  <T,>(\n    {\n      header,\n      footer,\n      empty,\n      filter,\n      pagination,\n      preferences,\n      items,\n      columnDefinitions,\n      trackBy,\n      loading,\n      loadingText,\n      selectionType,\n      selectedItems,\n      isItemDisabled,\n      ariaLabels,\n      onSelectionChange,\n      onSortingChange,\n      sortingColumn,\n      sortingDescending,\n      sortingDisabled,\n      visibleColumns,\n      stickyHeader,\n      stickyHeaderVerticalOffset,\n      onRowClick,\n      onRowContextMenu,\n      wrapLines,\n      stripedRows,\n      contentDensity,\n      submitEdit,\n      onEditCancel,\n      resizableColumns,\n      onColumnWidthsChange,\n      variant,\n      __internalRootRef,\n      totalItemsCount,\n      firstIndex,\n      renderAriaLive,\n      stickyColumns,\n      columnDisplay,\n      enableKeyboardNavigation,\n      expandableRows,\n      getLoadingStatus,\n      renderLoaderPending,\n      renderLoaderLoading,\n      renderLoaderError,\n      renderLoaderEmpty,\n      cellVerticalAlign,\n      __funnelSubStepProps,\n      ...rest\n    }: InternalTableProps<T>,\n    ref: React.Ref<TableProps.Ref>\n  ) => {\n    // Keyboard navigation defaults to `true` for tables with expandable rows.\n    if (expandableRows && enableKeyboardNavigation === undefined) {\n      enableKeyboardNavigation = true;\n    }\n\n    const baseProps = getBaseProps(rest);\n\n    const prevStickyHeader = usePrevious(stickyHeader);\n    if (prevStickyHeader !== undefined && !!stickyHeader !== !!prevStickyHeader) {\n      warnOnce(\n        'Table',\n        `\\`stickyHeader\\` has changed from \"${prevStickyHeader}\" to \"${stickyHeader}\". It is not recommended to change the value of this property during the component lifecycle. Please set it to either \"true\" or \"false\" unconditionally.`\n      );\n    }\n\n    const isMobile = useMobile();\n\n    const { isExpandable, allItems, getExpandableItemProps } = useExpandableTableProps({\n      items,\n      expandableRows,\n      trackBy,\n      ariaLabels,\n    });\n    const { allRows } = useProgressiveLoadingProps({\n      items: allItems,\n      getLoadingStatus,\n      getExpandableItemProps,\n    });\n\n    const [containerWidth, wrapperMeasureRef] = useContainerQuery<number>(rect => rect.contentBoxWidth);\n    const wrapperMeasureRefObject = useRef(null);\n    const wrapperMeasureMergedRef = useMergeRefs(wrapperMeasureRef, wrapperMeasureRefObject);\n\n    const [tableWidth, tableMeasureRef] = useContainerQuery<number>(rect => rect.contentBoxWidth);\n    const tableRefObject = useRef(null);\n\n    const secondaryWrapperRef = React.useRef<HTMLDivElement>(null);\n    const theadRef = useRef<HTMLTableRowElement>(null);\n    const stickyHeaderRef = React.useRef<StickyHeaderRef>(null);\n    const scrollbarRef = React.useRef<HTMLDivElement>(null);\n    const { cancelEdit, ...cellEditing } = useCellEditing({ onCancel: onEditCancel, onSubmit: submitEdit });\n    const paginationRef = useRef<PaginationRef>({});\n    const filterRef = useRef<FilterRef>({});\n    const preferencesRef = useRef<PreferencesRef>({});\n    const headerRef = useRef<HeaderRef>({});\n    /* istanbul ignore next: performance marks do not work in JSDOM */\n    const getHeaderText = () =>\n      toolsHeaderPerformanceMarkRef.current?.querySelector<HTMLElement>(`.${headerStyles['heading-text']}`)\n        ?.innerText ?? toolsHeaderPerformanceMarkRef.current?.innerText;\n    const getPatternIdentifier = () => {\n      const hasActions = !!toolsHeaderPerformanceMarkRef.current?.querySelector<HTMLElement>(\n        `.${headerStyles.actions} .${buttonStyles.button}`\n      );\n\n      if (hasActions) {\n        return 'table-with-actions';\n      }\n\n      return '';\n    };\n\n    const performanceMarkAttributes = usePerformanceMarks(\n      'table',\n      () => !loading,\n      tableRefObject,\n      () => ({\n        loading: loading ?? false,\n        header: getHeaderText(),\n      }),\n      [loading]\n    );\n\n    const analyticsMetadata = getAnalyticsMetadataProps(rest);\n    const interactionMetadata = () => {\n      const filterData = filterRef.current;\n      const paginationData = paginationRef.current;\n      return JSON.stringify({\n        filterData,\n        paginationData,\n        sortingColumn: sortingColumn?.sortingField,\n        sortingOrder: sortingColumn ? (sortingDescending ? 'Descending' : 'Ascending') : undefined,\n      });\n    };\n    const getComponentConfiguration = () => {\n      const headerData = headerRef.current;\n      const filterData = filterRef.current;\n      const paginationData = paginationRef.current;\n      const preferencesData = preferencesRef.current;\n\n      return {\n        variant,\n        flowType: rest.analyticsMetadata?.flowType,\n        resourceType: rest.analyticsMetadata?.resourceType,\n        instanceIdentifier: analyticsMetadata?.instanceIdentifier,\n        taskName: analyticsMetadata?.instanceIdentifier ?? getHeaderText(),\n        uxTaskName: getHeaderText(),\n        patternIdentifier: getPatternIdentifier(),\n        sortedBy: {\n          columnId: sortingColumn?.sortingField,\n          sortingOrder: sortingColumn ? (sortingDescending ? 'desc' : 'asc') : undefined,\n        },\n        filtered: filterData?.filtered ?? null,\n        filteredBy: filterData?.filteredBy ?? [],\n        filteredCount: filterData?.filterCount ?? null,\n        totalNumberOfResources: headerData?.totalCount ?? null,\n        tablePreferences: {\n          visibleColumns: preferencesData?.visibleColumns ?? [],\n          resourcesPerPage: preferencesData?.pageSize ?? null,\n        },\n        pagination: {\n          currentPageIndex: paginationData?.currentPageIndex ?? 0,\n          totalNumberOfPages: paginationData?.openEnd ? null : paginationData?.totalPageCount ?? null,\n          openEnd: Boolean(paginationData?.openEnd),\n        },\n        resourcesSelected: selectedItems?.length > 0,\n      };\n    };\n\n    const { setLastUserAction, tableInteractionAttributes } = useTableInteractionMetrics({\n      elementRef: tableRefObject,\n      loading,\n      items,\n      instanceIdentifier: analyticsMetadata?.instanceIdentifier,\n      itemCount: items.length,\n      getComponentIdentifier: getHeaderText,\n      getComponentConfiguration,\n      interactionMetadata,\n    });\n\n    useImperativeHandle(\n      ref,\n      () => ({\n        scrollToTop: stickyHeaderRef.current?.scrollToTop || (() => undefined),\n        cancelEdit,\n      }),\n      [cancelEdit]\n    );\n\n    const wrapperRefObject = useRef<HTMLDivElement>(null);\n    const handleScroll = useScrollSync([wrapperRefObject, scrollbarRef, secondaryWrapperRef]);\n\n    const { moveFocusDown, moveFocusUp, moveFocus } = useSelectionFocusMove(selectionType, allItems.length);\n    const { onRowClickHandler, onRowContextMenuHandler } = useRowEvents({ onRowClick, onRowContextMenu });\n\n    const visibleColumnDefinitions = getVisibleColumnDefinitions({\n      columnDefinitions,\n      columnDisplay,\n      visibleColumns,\n    });\n\n    const { isItemSelected, getSelectAllProps, getItemSelectionProps } = useSelection({\n      items: allItems,\n      trackBy,\n      selectedItems,\n      selectionType,\n      isItemDisabled,\n      onSelectionChange,\n      ariaLabels: {\n        ...ariaLabels,\n        // `selectionGroupLabel` should not be part of the selection control, it is already part of the selection column header.\n        selectionGroupLabel: undefined,\n      },\n      loading,\n      setLastUserAction,\n    });\n    const isRowSelected = (row: TableRow<T>) => row.type === 'data' && isItemSelected(row.item);\n\n    if (isDevelopment) {\n      if (resizableColumns) {\n        checkColumnWidths(columnDefinitions);\n      }\n      if (sortingColumn?.sortingComparator) {\n        checkSortingState(columnDefinitions, sortingColumn.sortingComparator);\n      }\n    }\n\n    const isVisualRefresh = useVisualRefresh();\n    const computedVariant = isVisualRefresh\n      ? variant\n      : ['embedded', 'full-page'].indexOf(variant) > -1\n        ? 'container'\n        : variant;\n    const hasHeader = !!(header || filter || pagination || preferences);\n    const hasSelection = !!selectionType;\n    const hasFooterPagination = isMobile && variant === 'full-page' && !!pagination;\n    const hasFooter = !!footer || hasFooterPagination;\n\n    const headerIdRef = useRef<string | undefined>(undefined);\n    const isLabelledByHeader = !ariaLabels?.tableLabel && !!header;\n    const ariaLabelledby = isLabelledByHeader && headerIdRef.current ? headerIdRef.current : undefined;\n    const setHeaderRef = useCallback((id: string) => {\n      headerIdRef.current = id;\n    }, []);\n\n    const visibleColumnWidthsWithSelection: ColumnWidthDefinition[] = [];\n    const visibleColumnIdsWithSelection: PropertyKey[] = [];\n    if (hasSelection) {\n      visibleColumnWidthsWithSelection.push({ id: selectionColumnId, width: SELECTION_COLUMN_WIDTH });\n      visibleColumnIdsWithSelection.push(selectionColumnId);\n    }\n    for (let columnIndex = 0; columnIndex < visibleColumnDefinitions.length; columnIndex++) {\n      const columnId = getColumnKey(visibleColumnDefinitions[columnIndex], columnIndex);\n      visibleColumnWidthsWithSelection.push({ ...visibleColumnDefinitions[columnIndex], id: columnId });\n      visibleColumnIdsWithSelection.push(columnId);\n    }\n\n    const stickyState = useStickyColumns({\n      visibleColumns: visibleColumnIdsWithSelection,\n      stickyColumnsFirst: (stickyColumns?.first ?? 0) + (stickyColumns?.first && hasSelection ? 1 : 0),\n      stickyColumnsLast: stickyColumns?.last || 0,\n    });\n\n    const hasStickyColumns = !!((stickyColumns?.first ?? 0) + (stickyColumns?.last ?? 0) > 0);\n    const hasEditableCells = !!columnDefinitions.find(col => col.editConfig);\n\n    let tableRole: TableRole = 'table';\n    if (isExpandable) {\n      tableRole = 'treegrid';\n    } else if (enableKeyboardNavigation) {\n      tableRole = 'grid';\n    } else if (hasEditableCells) {\n      tableRole = 'grid-default';\n    }\n\n    const theadProps: TheadProps = {\n      selectionType,\n      getSelectAllProps,\n      columnDefinitions: visibleColumnDefinitions,\n      variant: computedVariant,\n      wrapLines,\n      resizableColumns,\n      sortingColumn,\n      sortingDisabled,\n      sortingDescending,\n      onSortingChange,\n      onFocusMove: moveFocus,\n      onResizeFinish(newWidth) {\n        const widthsDetail = columnDefinitions.map(\n          (column, index) =>\n            newWidth.get(getColumnKey(column, index)) || (column.width as number) || DEFAULT_COLUMN_WIDTH\n        );\n        const widthsChanged = widthsDetail.some((width, index) => columnDefinitions[index].width !== width);\n        if (widthsChanged) {\n          fireNonCancelableEvent(onColumnWidthsChange, { widths: widthsDetail });\n        }\n      },\n      singleSelectionHeaderAriaLabel: ariaLabels?.selectionGroupLabel,\n      resizerRoleDescription: ariaLabels?.resizerRoleDescription,\n      stripedRows,\n      stickyState,\n      selectionColumnId,\n      tableRole,\n      isExpandable,\n      setLastUserAction,\n    };\n\n    usePreventStickyClickScroll(wrapperRefObject);\n\n    const wrapperRef = useMergeRefs(wrapperRefObject, stickyState.refs.wrapper);\n    const tableRef = useMergeRefs(tableMeasureRef, tableRefObject, stickyState.refs.table);\n\n    const wrapperProps = getTableWrapperRoleProps({\n      tableRole,\n      isScrollable: !!(tableWidth && containerWidth && tableWidth > containerWidth),\n      ariaLabel: ariaLabels?.tableLabel,\n      ariaLabelledby,\n    });\n\n    const getMouseDownTarget = useMouseDownTarget();\n\n    useTableFocusNavigation({\n      enableKeyboardNavigation,\n      selectionType,\n      tableRoot: tableRefObject,\n      columnDefinitions: visibleColumnDefinitions,\n      numRows: allRows?.length,\n    });\n    const toolsHeaderPerformanceMarkRef = useRef<HTMLDivElement>(null);\n    // If is mobile, we take into consideration the AppLayout's mobile bar and we subtract the tools wrapper height so only the table header is sticky\n    const [toolsHeaderHeight, toolsHeaderWrapperMeasureRef] = useContainerQuery(rect => rect.borderBoxHeight);\n    const toolsHeaderWrapper = useMergeRefs(toolsHeaderPerformanceMarkRef, toolsHeaderWrapperMeasureRef);\n\n    const colIndexOffset = selectionType ? 1 : 0;\n    const totalColumnsCount = visibleColumnDefinitions.length + colIndexOffset;\n\n    return (\n      <LinkDefaultVariantContext.Provider value={{ defaultVariant: 'primary' }}>\n        <TableComponentsContextProvider value={{ paginationRef, filterRef, preferencesRef, headerRef }}>\n          <ColumnWidthsProvider\n            visibleColumns={visibleColumnWidthsWithSelection}\n            resizableColumns={resizableColumns}\n            containerRef={wrapperMeasureRefObject}\n          >\n            <InternalContainer\n              {...baseProps}\n              {...tableInteractionAttributes}\n              __internalRootRef={__internalRootRef}\n              className={clsx(baseProps.className, styles.root)}\n              __funnelSubStepProps={__funnelSubStepProps}\n              __fullPage={variant === 'full-page'}\n              header={\n                <>\n                  {hasHeader && (\n                    <div>\n                      <div\n                        ref={toolsHeaderWrapper}\n                        className={clsx(styles['header-controls'], styles[`variant-${computedVariant}`])}\n                      >\n                        <CollectionLabelContext.Provider value={{ assignId: setHeaderRef }}>\n                          <ToolsHeader\n                            header={header}\n                            filter={filter}\n                            pagination={pagination}\n                            preferences={preferences}\n                            setLastUserAction={setLastUserAction}\n                          />\n                        </CollectionLabelContext.Provider>\n                      </div>\n                    </div>\n                  )}\n                  {stickyHeader && (\n                    <StickyHeader\n                      ref={stickyHeaderRef}\n                      variant={computedVariant}\n                      theadProps={theadProps}\n                      wrapperRef={wrapperRefObject}\n                      theadRef={theadRef}\n                      secondaryWrapperRef={secondaryWrapperRef}\n                      tableRef={tableRefObject}\n                      onScroll={handleScroll}\n                      tableHasHeader={hasHeader}\n                      contentDensity={contentDensity}\n                      tableRole={tableRole}\n                    />\n                  )}\n                </>\n              }\n              disableHeaderPaddings={true}\n              disableContentPaddings={true}\n              variant={toContainerVariant(computedVariant)}\n              __disableFooterPaddings={true}\n              __disableFooterDivider={true}\n              __disableStickyMobile={false}\n              footer={\n                hasFooter ? (\n                  <div className={clsx(styles['footer-wrapper'], styles[`variant-${computedVariant}`])}>\n                    <div className={clsx(styles.footer, hasFooterPagination && styles['footer-with-pagination'])}>\n                      {footer && <span>{footer}</span>}\n                      {hasFooterPagination && <div className={styles['footer-pagination']}>{pagination}</div>}\n                    </div>\n                  </div>\n                ) : null\n              }\n              __stickyHeader={stickyHeader}\n              __mobileStickyOffset={toolsHeaderHeight ?? 0}\n              __stickyOffset={stickyHeaderVerticalOffset}\n              {...focusMarkers.root}\n            >\n              <div\n                ref={wrapperRef}\n                className={clsx(styles.wrapper, styles[`variant-${computedVariant}`], {\n                  [styles['has-footer']]: hasFooter,\n                  [styles['has-header']]: hasHeader,\n                })}\n                style={stickyState.style.wrapper}\n                onScroll={handleScroll}\n                {...wrapperProps}\n              >\n                <div className={styles['wrapper-content-measure']} ref={wrapperMeasureMergedRef}></div>\n                {!!renderAriaLive && !!firstIndex && (\n                  <InternalLiveRegion hidden={true} tagName=\"span\">\n                    <span>\n                      {renderAriaLive({\n                        firstIndex,\n                        lastIndex: firstIndex + items.length - 1,\n                        visibleItemsCount: allItems.length,\n                        totalItemsCount,\n                      })}\n                    </span>\n                  </InternalLiveRegion>\n                )}\n                <GridNavigationProvider\n                  keyboardNavigation={!!enableKeyboardNavigation}\n                  pageSize={GRID_NAVIGATION_PAGE_SIZE}\n                  getTable={() => tableRefObject.current}\n                >\n                  <table\n                    {...performanceMarkAttributes}\n                    ref={tableRef}\n                    className={clsx(\n                      styles.table,\n                      resizableColumns && styles['table-layout-fixed'],\n                      contentDensity === 'compact' && getVisualContextClassname('compact-table')\n                    )}\n                    {...getTableRoleProps({\n                      tableRole,\n                      totalItemsCount,\n                      totalColumnsCount: totalColumnsCount,\n                      ariaLabel: ariaLabels?.tableLabel,\n                      ariaLabelledby,\n                    })}\n                  >\n                    <Thead\n                      ref={theadRef}\n                      hidden={stickyHeader}\n                      onFocusedComponentChange={focusId => stickyHeaderRef.current?.setFocus(focusId)}\n                      {...theadProps}\n                    />\n                    <tbody>\n                      {loading || allItems.length === 0 ? (\n                        <tr>\n                          <NoDataCell\n                            totalColumnsCount={totalColumnsCount}\n                            hasFooter={hasFooter}\n                            loading={loading}\n                            loadingText={loadingText}\n                            empty={empty}\n                            tableRef={tableRefObject}\n                            containerRef={wrapperMeasureRefObject}\n                          />\n                        </tr>\n                      ) : (\n                        allRows.map((row, rowIndex) => {\n                          const isFirstRow = rowIndex === 0;\n                          const isLastRow = rowIndex === allRows.length - 1;\n                          const expandableProps = row.type === 'data' ? getExpandableItemProps(row.item) : undefined;\n                          const rowRoleProps = getTableRowRoleProps({\n                            tableRole,\n                            firstIndex,\n                            rowIndex,\n                            level: row.type === 'loader' ? row.level : undefined,\n                            ...expandableProps,\n                          });\n                          const getTableItemKey = (item: T) => getItemKey(trackBy, item, rowIndex);\n                          const sharedCellProps = {\n                            isFirstRow,\n                            isLastRow,\n                            isSelected: hasSelection && isRowSelected(row),\n                            isPrevSelected: hasSelection && !isFirstRow && isRowSelected(allRows[rowIndex - 1]),\n                            isNextSelected: hasSelection && !isLastRow && isRowSelected(allRows[rowIndex + 1]),\n                            isEvenRow: rowIndex % 2 === 0,\n                            stripedRows,\n                            hasSelection,\n                            hasFooter,\n                            stickyState,\n                            tableRole,\n                          };\n                          if (row.type === 'data') {\n                            const rowId = `${getTableItemKey(row.item)}`;\n                            return (\n                              <tr\n                                key={rowId}\n                                className={clsx(styles.row, sharedCellProps.isSelected && styles['row-selected'])}\n                                onFocus={({ currentTarget }) => {\n                                  // When an element inside table row receives focus we want to adjust the scroll.\n                                  // However, that behaviour is unwanted when the focus is received as result of a click\n                                  // as it causes the click to never reach the target element.\n                                  if (!currentTarget.contains(getMouseDownTarget())) {\n                                    stickyHeaderRef.current?.scrollToRow(currentTarget);\n                                  }\n                                }}\n                                {...focusMarkers.item}\n                                onClick={onRowClickHandler && onRowClickHandler.bind(null, rowIndex, row.item)}\n                                onContextMenu={\n                                  onRowContextMenuHandler && onRowContextMenuHandler.bind(null, rowIndex, row.item)\n                                }\n                                {...rowRoleProps}\n                              >\n                                {getItemSelectionProps && (\n                                  <TableBodySelectionCell\n                                    {...sharedCellProps}\n                                    columnId={selectionColumnId}\n                                    selectionControlProps={{\n                                      ...getItemSelectionProps(row.item),\n                                      onFocusDown: moveFocusDown,\n                                      onFocusUp: moveFocusUp,\n                                      rowIndex,\n                                      itemKey: rowId,\n                                    }}\n                                    verticalAlign={cellVerticalAlign}\n                                  />\n                                )}\n\n                                {visibleColumnDefinitions.map((column, colIndex) => {\n                                  const colId = `${getColumnKey(column, colIndex)}`;\n                                  const cellId = { row: rowId, col: colId };\n                                  const isEditing = cellEditing.checkEditing(cellId);\n                                  const successfulEdit = cellEditing.checkLastSuccessfulEdit(cellId);\n                                  const isEditable = !!column.editConfig && !cellEditing.isLoading;\n                                  const cellExpandableProps =\n                                    isExpandable && colIndex === 0 ? expandableProps : undefined;\n\n                                  const analyticsMetadata: GeneratedAnalyticsMetadataFragment = {\n                                    component: {\n                                      innerContext: {\n                                        position: `${rowIndex + 1},${colIndex + 1}`,\n                                        columnId: column.id ? `${column.id}` : '',\n                                        columnLabel: {\n                                          selector: `table thead tr th:nth-child(${colIndex + (selectionType ? 2 : 1)})`,\n                                          root: 'component',\n                                        },\n                                        item: rowId,\n                                      } as GeneratedAnalyticsMetadataTableComponent['innerContext'],\n                                    },\n                                  };\n\n                                  return (\n                                    <TableBodyCell\n                                      key={colId}\n                                      {...sharedCellProps}\n                                      resizableStyle={{\n                                        width: column.width,\n                                        minWidth: column.minWidth,\n                                        maxWidth: column.maxWidth,\n                                      }}\n                                      ariaLabels={ariaLabels}\n                                      column={column}\n                                      item={row.item}\n                                      wrapLines={wrapLines}\n                                      isEditable={isEditable}\n                                      isEditing={isEditing}\n                                      isRowHeader={column.isRowHeader}\n                                      successfulEdit={successfulEdit}\n                                      resizableColumns={resizableColumns}\n                                      onEditStart={() => cellEditing.startEdit(cellId)}\n                                      onEditEnd={editCancelled => cellEditing.completeEdit(cellId, editCancelled)}\n                                      submitEdit={cellEditing.submitEdit}\n                                      columnId={column.id ?? colIndex}\n                                      colIndex={colIndex + colIndexOffset}\n                                      verticalAlign={column.verticalAlign ?? cellVerticalAlign}\n                                      {...cellExpandableProps}\n                                      {...getAnalyticsMetadataAttribute(analyticsMetadata)}\n                                    />\n                                  );\n                                })}\n                              </tr>\n                            );\n                          }\n\n                          const loaderContent = getLoaderContent({\n                            item: row.item,\n                            loadingStatus: row.status,\n                            renderLoaderPending,\n                            renderLoaderLoading,\n                            renderLoaderError,\n                            renderLoaderEmpty,\n                          });\n                          return (\n                            loaderContent && (\n                              <tr\n                                key={(row.item ? getTableItemKey(row.item) : 'root-' + rowIndex) + '-' + row.from}\n                                className={styles.row}\n                                {...rowRoleProps}\n                              >\n                                {getItemSelectionProps && (\n                                  <TableBodySelectionCell\n                                    {...sharedCellProps}\n                                    columnId={selectionColumnId}\n                                    verticalAlign={cellVerticalAlign}\n                                  />\n                                )}\n                                {visibleColumnDefinitions.map((column, colIndex) => (\n                                  <TableLoaderCell\n                                    key={getColumnKey(column, colIndex)}\n                                    {...sharedCellProps}\n                                    wrapLines={false}\n                                    columnId={column.id ?? colIndex}\n                                    colIndex={colIndex + colIndexOffset}\n                                    isRowHeader={colIndex === 0}\n                                    level={row.level}\n                                    item={row.item}\n                                    trackBy={trackBy}\n                                  >\n                                    {loaderContent}\n                                  </TableLoaderCell>\n                                ))}\n                              </tr>\n                            )\n                          );\n                        })\n                      )}\n                    </tbody>\n                  </table>\n                </GridNavigationProvider>\n\n                {resizableColumns && <ResizeTracker />}\n              </div>\n\n              <StickyScrollbar\n                ref={scrollbarRef}\n                wrapperRef={wrapperRefObject}\n                tableRef={tableRefObject}\n                onScroll={handleScroll}\n                hasStickyColumns={hasStickyColumns}\n              />\n            </InternalContainer>\n          </ColumnWidthsProvider>\n        </TableComponentsContextProvider>\n      </LinkDefaultVariantContext.Provider>\n    );\n  }\n) as TableForwardRefType;\n\nexport default InternalTable;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}