{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useLayoutEffect, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { isDevelopment } from '../is-development';\nimport { warnOnce } from '../logging';\nfunction manageDefaultContainer(setState) {\n  const newContainer = document.createElement('div');\n  document.body.appendChild(newContainer);\n  setState(newContainer);\n  return () => {\n    document.body.removeChild(newContainer);\n  };\n}\nfunction manageAsyncContainer(getContainer, removeContainer, setState) {\n  let newContainer;\n  getContainer().then(container => {\n    newContainer = container;\n    setState(container);\n  }, error => {\n    console.warn('[AwsUi] [portal]: failed to load portal root', error);\n  });\n  return () => {\n    removeContainer(newContainer);\n  };\n}\n/**\n * A safe react portal component that renders to a provided node.\n * If a node isn't provided, it creates one under document.body.\n */\nexport default function Portal({\n  container,\n  getContainer,\n  removeContainer,\n  children\n}) {\n  const [activeContainer, setActiveContainer] = useState(container !== null && container !== void 0 ? container : null);\n  useLayoutEffect(() => {\n    if (container) {\n      setActiveContainer(container);\n      return;\n    }\n    if (isDevelopment) {\n      if (getContainer && !removeContainer) {\n        warnOnce('portal', '`removeContainer` is required when `getContainer` is provided');\n      }\n      if (!getContainer && removeContainer) {\n        warnOnce('portal', '`getContainer` is required when `removeContainer` is provided');\n      }\n    }\n    if (getContainer && removeContainer) {\n      return manageAsyncContainer(getContainer, removeContainer, setActiveContainer);\n    }\n    return manageDefaultContainer(setActiveContainer);\n  }, [container, getContainer, removeContainer]);\n  return activeContainer && createPortal(children, activeContainer);\n}","map":{"version":3,"names":["useLayoutEffect","useState","createPortal","isDevelopment","warnOnce","manageDefaultContainer","setState","newContainer","document","createElement","body","appendChild","removeChild","manageAsyncContainer","getContainer","removeContainer","then","container","error","console","warn","Portal","children","activeContainer","setActiveContainer"],"sources":["/Users/theo/Library/CloudStorage/OneDrive-RackspaceInc/Documents/aws_hackathon/react-client/node_modules/@cloudscape-design/component-toolkit/internal/portal/index.js"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useLayoutEffect, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { isDevelopment } from '../is-development';\nimport { warnOnce } from '../logging';\nfunction manageDefaultContainer(setState) {\n    const newContainer = document.createElement('div');\n    document.body.appendChild(newContainer);\n    setState(newContainer);\n    return () => {\n        document.body.removeChild(newContainer);\n    };\n}\nfunction manageAsyncContainer(getContainer, removeContainer, setState) {\n    let newContainer;\n    getContainer().then(container => {\n        newContainer = container;\n        setState(container);\n    }, error => {\n        console.warn('[AwsUi] [portal]: failed to load portal root', error);\n    });\n    return () => {\n        removeContainer(newContainer);\n    };\n}\n/**\n * A safe react portal component that renders to a provided node.\n * If a node isn't provided, it creates one under document.body.\n */\nexport default function Portal({ container, getContainer, removeContainer, children }) {\n    const [activeContainer, setActiveContainer] = useState(container !== null && container !== void 0 ? container : null);\n    useLayoutEffect(() => {\n        if (container) {\n            setActiveContainer(container);\n            return;\n        }\n        if (isDevelopment) {\n            if (getContainer && !removeContainer) {\n                warnOnce('portal', '`removeContainer` is required when `getContainer` is provided');\n            }\n            if (!getContainer && removeContainer) {\n                warnOnce('portal', '`getContainer` is required when `removeContainer` is provided');\n            }\n        }\n        if (getContainer && removeContainer) {\n            return manageAsyncContainer(getContainer, removeContainer, setActiveContainer);\n        }\n        return manageDefaultContainer(setActiveContainer);\n    }, [container, getContainer, removeContainer]);\n    return activeContainer && createPortal(children, activeContainer);\n}\n"],"mappings":"AAAA;AACA;AACA,SAASA,eAAe,EAAEC,QAAQ,QAAQ,OAAO;AACjD,SAASC,YAAY,QAAQ,WAAW;AACxC,SAASC,aAAa,QAAQ,mBAAmB;AACjD,SAASC,QAAQ,QAAQ,YAAY;AACrC,SAASC,sBAAsBA,CAACC,QAAQ,EAAE;EACtC,MAAMC,YAAY,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;EAClDD,QAAQ,CAACE,IAAI,CAACC,WAAW,CAACJ,YAAY,CAAC;EACvCD,QAAQ,CAACC,YAAY,CAAC;EACtB,OAAO,MAAM;IACTC,QAAQ,CAACE,IAAI,CAACE,WAAW,CAACL,YAAY,CAAC;EAC3C,CAAC;AACL;AACA,SAASM,oBAAoBA,CAACC,YAAY,EAAEC,eAAe,EAAET,QAAQ,EAAE;EACnE,IAAIC,YAAY;EAChBO,YAAY,CAAC,CAAC,CAACE,IAAI,CAACC,SAAS,IAAI;IAC7BV,YAAY,GAAGU,SAAS;IACxBX,QAAQ,CAACW,SAAS,CAAC;EACvB,CAAC,EAAEC,KAAK,IAAI;IACRC,OAAO,CAACC,IAAI,CAAC,8CAA8C,EAAEF,KAAK,CAAC;EACvE,CAAC,CAAC;EACF,OAAO,MAAM;IACTH,eAAe,CAACR,YAAY,CAAC;EACjC,CAAC;AACL;AACA;AACA;AACA;AACA;AACA,eAAe,SAASc,MAAMA,CAAC;EAAEJ,SAAS;EAAEH,YAAY;EAAEC,eAAe;EAAEO;AAAS,CAAC,EAAE;EACnF,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGvB,QAAQ,CAACgB,SAAS,KAAK,IAAI,IAAIA,SAAS,KAAK,KAAK,CAAC,GAAGA,SAAS,GAAG,IAAI,CAAC;EACrHjB,eAAe,CAAC,MAAM;IAClB,IAAIiB,SAAS,EAAE;MACXO,kBAAkB,CAACP,SAAS,CAAC;MAC7B;IACJ;IACA,IAAId,aAAa,EAAE;MACf,IAAIW,YAAY,IAAI,CAACC,eAAe,EAAE;QAClCX,QAAQ,CAAC,QAAQ,EAAE,+DAA+D,CAAC;MACvF;MACA,IAAI,CAACU,YAAY,IAAIC,eAAe,EAAE;QAClCX,QAAQ,CAAC,QAAQ,EAAE,+DAA+D,CAAC;MACvF;IACJ;IACA,IAAIU,YAAY,IAAIC,eAAe,EAAE;MACjC,OAAOF,oBAAoB,CAACC,YAAY,EAAEC,eAAe,EAAES,kBAAkB,CAAC;IAClF;IACA,OAAOnB,sBAAsB,CAACmB,kBAAkB,CAAC;EACrD,CAAC,EAAE,CAACP,SAAS,EAAEH,YAAY,EAAEC,eAAe,CAAC,CAAC;EAC9C,OAAOQ,eAAe,IAAIrB,YAAY,CAACoB,QAAQ,EAAEC,eAAe,CAAC;AACrE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}