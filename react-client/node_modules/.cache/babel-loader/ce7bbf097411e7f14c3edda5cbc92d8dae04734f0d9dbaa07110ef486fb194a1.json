{"ast":null,"code":"import { __rest } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport clsx from 'clsx';\nimport { pie } from 'd3-shape';\nimport { useMergeRefs } from '@cloudscape-design/component-toolkit/internal';\nimport { getBaseProps } from '../internal/base-component';\nimport Filter from '../internal/components/chart-filter';\nimport Legend from '../internal/components/chart-legend';\nimport ChartSeriesMarker from '../internal/components/chart-series-marker';\nimport ChartStatusContainer, { getChartStatus } from '../internal/components/chart-status-container';\nimport { ChartWrapper } from '../internal/components/chart-wrapper';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport { useControllable } from '../internal/hooks/use-controllable';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport createCategoryColorScale from '../internal/utils/create-category-color-scale';\nimport { nodeBelongs } from '../internal/utils/node-belongs';\nimport useContainerWidth from '../internal/utils/use-container-width';\nimport InternalPieChart from './pie-chart';\nimport { getDimensionsBySize } from './utils';\nimport styles from './styles.css.js';\nconst PieChart = function PieChart(_a) {\n  var {\n      fitHeight,\n      variant = 'pie',\n      size = 'medium',\n      hideTitles = false,\n      hideDescriptions = false,\n      hideLegend = false,\n      hideFilter = false,\n      statusType = 'finished',\n      data: externalData = [],\n      i18nStrings = {},\n      highlightedSegment: controlledHighlightedSegment,\n      visibleSegments: controlledVisibleSegments,\n      onHighlightChange: controlledOnHighlightChange,\n      onFilterChange,\n      additionalFilters,\n      legendTitle,\n      detailPopoverSize = 'medium'\n    } = _a,\n    props = __rest(_a, [\"fitHeight\", \"variant\", \"size\", \"hideTitles\", \"hideDescriptions\", \"hideLegend\", \"hideFilter\", \"statusType\", \"data\", \"i18nStrings\", \"highlightedSegment\", \"visibleSegments\", \"onHighlightChange\", \"onFilterChange\", \"additionalFilters\", \"legendTitle\", \"detailPopoverSize\"]);\n  const {\n    __internalRootRef = null\n  } = useBaseComponent('PieChart', {\n    props: {\n      fitHeight,\n      variant,\n      size,\n      hideTitles,\n      hideDescriptions,\n      hideLegend,\n      hideFilter,\n      detailPopoverSize\n    }\n  });\n  const baseProps = getBaseProps(props);\n  const containerRef = useRef(null);\n  const [containerWidth, measureRef] = useContainerWidth();\n  const data = useMemo(() => {\n    const colors = createCategoryColorScale(externalData, undefined, it => it.color || null);\n    return externalData.map((datum, i) => ({\n      index: i,\n      color: colors[i],\n      datum\n    }));\n  }, [externalData]);\n  const [highlightedSegment = null, setHighlightedSegment] = useControllable(controlledHighlightedSegment, controlledOnHighlightChange, null, {\n    componentName: 'PieChart',\n    controlledProp: 'highlightedSegment',\n    changeHandler: 'onHighlightChange'\n  });\n  const [legendSegment, setLegendSegment] = useState(highlightedSegment);\n  useEffect(() => {\n    setLegendSegment(controlledHighlightedSegment || null);\n  }, [controlledHighlightedSegment]);\n  const [visibleSegments, setVisibleSegments] = useControllable(controlledVisibleSegments, onFilterChange, externalData, {\n    componentName: 'PieChart',\n    controlledProp: 'visibleSegments',\n    changeHandler: 'onFilterChange'\n  });\n  const visibleData = useMemo(() => data.filter(d => (visibleSegments === null || visibleSegments === void 0 ? void 0 : visibleSegments.indexOf(d.datum)) !== -1), [data, visibleSegments]);\n  const filterItems = data === null || data === void 0 ? void 0 : data.map(data => ({\n    label: data.datum.title,\n    marker: React.createElement(ChartSeriesMarker, {\n      color: data.color,\n      type: \"rectangle\"\n    }),\n    datum: data.datum\n  }));\n  const legendItems = filterItems.filter(d => (visibleSegments === null || visibleSegments === void 0 ? void 0 : visibleSegments.indexOf(d.datum)) !== -1);\n  const filterChange = useCallback(selectedSeries => {\n    setVisibleSegments(selectedSeries);\n    fireNonCancelableEvent(onFilterChange, {\n      visibleSegments: selectedSeries\n    });\n  }, [setVisibleSegments, onFilterChange]);\n  const onHighlightChange = useCallback(segment => {\n    setLegendSegment(segment);\n    setHighlightedSegment(segment);\n    fireNonCancelableEvent(controlledOnHighlightChange, {\n      highlightedSegment: segment\n    });\n  }, [controlledOnHighlightChange, setHighlightedSegment]);\n  const onBlur = event => {\n    if (event.relatedTarget && !nodeBelongs(containerRef.current, event.relatedTarget)) {\n      highlightedSegment && onHighlightChange(null);\n      setLegendSegment(null);\n    }\n  };\n  const mergedRef = useMergeRefs(containerRef, measureRef, __internalRootRef);\n  const {\n    pieData,\n    dataSum\n  } = useMemo(() => {\n    const dataSum = visibleData.reduce((sum, d) => sum + d.datum.value, 0);\n    const pieFactory = pie()\n    // Minimum 1% segment size\n    .value(d => d.datum.value < dataSum / 100 ? dataSum / 100 : d.datum.value).sort(null);\n    // Filter out segments with value of zero or below\n    const pieData = pieFactory(visibleData.filter(d => d.datum.value > 0));\n    return {\n      pieData,\n      dataSum\n    };\n  }, [visibleData]);\n  const hasNoData = !externalData || externalData.length === 0;\n  const {\n    isEmpty,\n    showChart\n  } = getChartStatus({\n    externalData: data,\n    visibleData: pieData,\n    statusType\n  });\n  // Pie charts have a special condition for empty/noMatch due to how zero-value segments are handled.\n  const isNoMatch = isEmpty && visibleData.length !== data.length;\n  const showFilters = statusType === 'finished' && !hasNoData && (additionalFilters || !hideFilter);\n  const reserveLegendSpace = !showChart && !hideLegend;\n  const reserveFilterSpace = statusType !== 'finished' && !isNoMatch && (!hideFilter || additionalFilters);\n  const hasLabels = !(hideTitles && hideDescriptions);\n  const isRefresh = useVisualRefresh();\n  const defaultDimensions = getDimensionsBySize({\n    size,\n    hasLabels,\n    visualRefresh: isRefresh\n  });\n  const radius = defaultDimensions.outerRadius;\n  const height = 2 * (radius + defaultDimensions.padding + (hasLabels ? defaultDimensions.paddingLabels : 0));\n  return React.createElement(ChartWrapper, Object.assign({\n    ref: mergedRef,\n    fitHeight: !!fitHeight\n  }, baseProps, {\n    className: clsx(baseProps.className, styles.root),\n    contentClassName: clsx(styles.content, styles[`content--${defaultDimensions.size}`], {\n      [styles['content--without-labels']]: !hasLabels,\n      [styles['content--fit-height']]: fitHeight\n    }),\n    defaultFilter: showFilters && !hideFilter ? React.createElement(Filter, {\n      series: filterItems,\n      onChange: filterChange,\n      selectedSeries: visibleSegments,\n      i18nStrings: i18nStrings\n    }) : null,\n    additionalFilters: showFilters ? additionalFilters : null,\n    reserveFilterSpace: !!reserveFilterSpace,\n    reserveLegendSpace: !!reserveLegendSpace,\n    chartStatus: React.createElement(ChartStatusContainer, {\n      isEmpty: isEmpty,\n      isNoMatch: isNoMatch,\n      showChart: showChart,\n      statusType: statusType,\n      empty: props.empty,\n      noMatch: props.noMatch,\n      loadingText: props.loadingText,\n      errorText: props.errorText,\n      recoveryText: props.recoveryText,\n      onRecoveryClick: props.onRecoveryClick\n    }),\n    chart: showChart ? React.createElement(InternalPieChart, Object.assign({}, props, {\n      variant: variant,\n      size: size,\n      height: height,\n      fitHeight: fitHeight,\n      data: externalData,\n      width: containerWidth,\n      hideTitles: hideTitles,\n      hideDescriptions: hideDescriptions,\n      i18nStrings: i18nStrings,\n      onHighlightChange: onHighlightChange,\n      highlightedSegment: highlightedSegment,\n      legendSegment: legendSegment,\n      detailPopoverSize: detailPopoverSize,\n      pieData: pieData,\n      dataSum: dataSum\n    })) : null,\n    legend: !hideLegend && !hasNoData && statusType === 'finished' && React.createElement(Legend, {\n      series: legendItems,\n      highlightedSeries: legendSegment,\n      legendTitle: legendTitle,\n      ariaLabel: i18nStrings === null || i18nStrings === void 0 ? void 0 : i18nStrings.legendAriaLabel,\n      onHighlightChange: onHighlightChange,\n      plotContainerRef: containerRef\n    }),\n    onBlur: onBlur\n  }));\n};\napplyDisplayName(PieChart, 'PieChart');\nexport default PieChart;","map":{"version":3,"names":["React","useCallback","useEffect","useMemo","useRef","useState","clsx","pie","useMergeRefs","getBaseProps","Filter","Legend","ChartSeriesMarker","ChartStatusContainer","getChartStatus","ChartWrapper","fireNonCancelableEvent","useBaseComponent","useControllable","useVisualRefresh","applyDisplayName","createCategoryColorScale","nodeBelongs","useContainerWidth","InternalPieChart","getDimensionsBySize","styles","PieChart","_a","fitHeight","variant","size","hideTitles","hideDescriptions","hideLegend","hideFilter","statusType","data","externalData","i18nStrings","highlightedSegment","controlledHighlightedSegment","visibleSegments","controlledVisibleSegments","onHighlightChange","controlledOnHighlightChange","onFilterChange","additionalFilters","legendTitle","detailPopoverSize","props","__rest","__internalRootRef","baseProps","containerRef","containerWidth","measureRef","colors","undefined","it","color","map","datum","i","index","setHighlightedSegment","componentName","controlledProp","changeHandler","legendSegment","setLegendSegment","setVisibleSegments","visibleData","filter","d","indexOf","filterItems","label","title","marker","createElement","type","legendItems","filterChange","selectedSeries","segment","onBlur","event","relatedTarget","current","mergedRef","pieData","dataSum","reduce","sum","value","pieFactory","sort","hasNoData","length","isEmpty","showChart","isNoMatch","showFilters","reserveLegendSpace","reserveFilterSpace","hasLabels","isRefresh","defaultDimensions","visualRefresh","radius","outerRadius","height","padding","paddingLabels","Object","assign","ref","className","root","contentClassName","content","defaultFilter","series","onChange","chartStatus","empty","noMatch","loadingText","errorText","recoveryText","onRecoveryClick","chart","width","legend","highlightedSeries","ariaLabel","legendAriaLabel","plotContainerRef"],"sources":["/Users/theo/Library/CloudStorage/OneDrive-RackspaceInc/Documents/aws_hackathon/react-client/node_modules/src/pie-chart/index.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport clsx from 'clsx';\nimport { pie } from 'd3-shape';\n\nimport { useMergeRefs } from '@cloudscape-design/component-toolkit/internal';\n\nimport { getBaseProps } from '../internal/base-component';\nimport Filter, { ChartFilterProps } from '../internal/components/chart-filter';\nimport Legend, { ChartLegendProps } from '../internal/components/chart-legend';\nimport ChartSeriesMarker from '../internal/components/chart-series-marker';\nimport ChartStatusContainer, { getChartStatus } from '../internal/components/chart-status-container';\nimport { ChartWrapper } from '../internal/components/chart-wrapper';\nimport { fireNonCancelableEvent } from '../internal/events';\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport { useControllable } from '../internal/hooks/use-controllable';\nimport { useVisualRefresh } from '../internal/hooks/use-visual-mode';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport createCategoryColorScale from '../internal/utils/create-category-color-scale';\nimport { nodeBelongs } from '../internal/utils/node-belongs';\nimport useContainerWidth from '../internal/utils/use-container-width';\nimport { PieChartProps } from './interfaces';\nimport InternalPieChart, { InternalChartDatum } from './pie-chart';\nimport { getDimensionsBySize } from './utils';\n\nimport styles from './styles.css.js';\n\nexport { PieChartProps };\n\nconst PieChart = function PieChart<T extends PieChartProps.Datum = PieChartProps.Datum>({\n  fitHeight,\n  variant = 'pie',\n  size = 'medium',\n  hideTitles = false,\n  hideDescriptions = false,\n  hideLegend = false,\n  hideFilter = false,\n  statusType = 'finished',\n  data: externalData = [],\n  i18nStrings = {},\n  highlightedSegment: controlledHighlightedSegment,\n  visibleSegments: controlledVisibleSegments,\n  onHighlightChange: controlledOnHighlightChange,\n  onFilterChange,\n  additionalFilters,\n  legendTitle,\n  detailPopoverSize = 'medium',\n  ...props\n}: PieChartProps<T>) {\n  const { __internalRootRef = null } = useBaseComponent('PieChart', {\n    props: {\n      fitHeight,\n      variant,\n      size,\n      hideTitles,\n      hideDescriptions,\n      hideLegend,\n      hideFilter,\n      detailPopoverSize,\n    },\n  });\n  const baseProps = getBaseProps(props);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [containerWidth, measureRef] = useContainerWidth();\n\n  const data: ReadonlyArray<InternalChartDatum<T>> = useMemo(() => {\n    const colors = createCategoryColorScale(externalData, undefined, it => it.color || null);\n\n    return externalData.map((datum, i) => ({\n      index: i,\n      color: colors[i],\n      datum,\n    }));\n  }, [externalData]);\n\n  const [highlightedSegment = null, setHighlightedSegment] = useControllable(\n    controlledHighlightedSegment,\n    controlledOnHighlightChange,\n    null,\n    {\n      componentName: 'PieChart',\n      controlledProp: 'highlightedSegment',\n      changeHandler: 'onHighlightChange',\n    }\n  );\n  const [legendSegment, setLegendSegment] = useState<null | T>(highlightedSegment);\n  useEffect(() => {\n    setLegendSegment(controlledHighlightedSegment || null);\n  }, [controlledHighlightedSegment]);\n\n  const [visibleSegments, setVisibleSegments] = useControllable(\n    controlledVisibleSegments,\n    onFilterChange,\n    externalData,\n    {\n      componentName: 'PieChart',\n      controlledProp: 'visibleSegments',\n      changeHandler: 'onFilterChange',\n    }\n  );\n\n  const visibleData = useMemo(\n    () => data.filter(d => visibleSegments?.indexOf(d.datum) !== -1),\n    [data, visibleSegments]\n  );\n\n  const filterItems: ChartFilterProps<T>['series'] = data?.map(data => ({\n    label: data.datum.title,\n    marker: <ChartSeriesMarker color={data.color} type=\"rectangle\" />,\n    datum: data.datum,\n  }));\n\n  const legendItems: ChartLegendProps<T>['series'] = filterItems.filter(d => visibleSegments?.indexOf(d.datum) !== -1);\n\n  const filterChange = useCallback(\n    (selectedSeries: ReadonlyArray<T>) => {\n      setVisibleSegments(selectedSeries);\n      fireNonCancelableEvent(onFilterChange, {\n        visibleSegments: selectedSeries,\n      });\n    },\n    [setVisibleSegments, onFilterChange]\n  );\n\n  const onHighlightChange = useCallback(\n    (segment: T | null) => {\n      setLegendSegment(segment);\n      setHighlightedSegment(segment);\n      fireNonCancelableEvent(controlledOnHighlightChange, { highlightedSegment: segment });\n    },\n    [controlledOnHighlightChange, setHighlightedSegment]\n  );\n\n  const onBlur = (event: React.FocusEvent) => {\n    if (event.relatedTarget && !nodeBelongs(containerRef.current, event.relatedTarget)) {\n      highlightedSegment && onHighlightChange(null);\n      setLegendSegment(null);\n    }\n  };\n\n  const mergedRef = useMergeRefs(containerRef, measureRef, __internalRootRef);\n\n  const { pieData, dataSum } = useMemo(() => {\n    const dataSum = visibleData.reduce((sum, d) => sum + d.datum.value, 0);\n\n    const pieFactory = pie<InternalChartDatum<T>>()\n      // Minimum 1% segment size\n      .value(d => (d.datum.value < dataSum / 100 ? dataSum / 100 : d.datum.value))\n      .sort(null);\n\n    // Filter out segments with value of zero or below\n    const pieData = pieFactory(visibleData.filter(d => d.datum.value > 0));\n\n    return { pieData, dataSum };\n  }, [visibleData]);\n\n  const hasNoData = !externalData || externalData.length === 0;\n  const { isEmpty, showChart } = getChartStatus({ externalData: data, visibleData: pieData, statusType });\n  // Pie charts have a special condition for empty/noMatch due to how zero-value segments are handled.\n  const isNoMatch = isEmpty && visibleData.length !== data.length;\n  const showFilters = statusType === 'finished' && !hasNoData && (additionalFilters || !hideFilter);\n  const reserveLegendSpace = !showChart && !hideLegend;\n  const reserveFilterSpace = statusType !== 'finished' && !isNoMatch && (!hideFilter || additionalFilters);\n  const hasLabels = !(hideTitles && hideDescriptions);\n\n  const isRefresh = useVisualRefresh();\n  const defaultDimensions = getDimensionsBySize({ size, hasLabels, visualRefresh: isRefresh });\n  const radius = defaultDimensions.outerRadius;\n  const height = 2 * (radius + defaultDimensions.padding + (hasLabels ? defaultDimensions.paddingLabels : 0));\n\n  return (\n    <ChartWrapper\n      ref={mergedRef}\n      fitHeight={!!fitHeight}\n      {...baseProps}\n      className={clsx(baseProps.className, styles.root)}\n      contentClassName={clsx(styles.content, styles[`content--${defaultDimensions.size}`], {\n        [styles['content--without-labels']]: !hasLabels,\n        [styles['content--fit-height']]: fitHeight,\n      })}\n      defaultFilter={\n        showFilters && !hideFilter ? (\n          <Filter\n            series={filterItems}\n            onChange={filterChange}\n            selectedSeries={visibleSegments}\n            i18nStrings={i18nStrings}\n          />\n        ) : null\n      }\n      additionalFilters={showFilters ? additionalFilters : null}\n      reserveFilterSpace={!!reserveFilterSpace}\n      reserveLegendSpace={!!reserveLegendSpace}\n      chartStatus={\n        <ChartStatusContainer\n          isEmpty={isEmpty}\n          isNoMatch={isNoMatch}\n          showChart={showChart}\n          statusType={statusType}\n          empty={props.empty}\n          noMatch={props.noMatch}\n          loadingText={props.loadingText}\n          errorText={props.errorText}\n          recoveryText={props.recoveryText}\n          onRecoveryClick={props.onRecoveryClick}\n        />\n      }\n      chart={\n        showChart ? (\n          <InternalPieChart\n            {...props}\n            variant={variant}\n            size={size}\n            height={height}\n            fitHeight={fitHeight}\n            data={externalData}\n            width={containerWidth}\n            hideTitles={hideTitles}\n            hideDescriptions={hideDescriptions}\n            i18nStrings={i18nStrings}\n            onHighlightChange={onHighlightChange}\n            highlightedSegment={highlightedSegment}\n            legendSegment={legendSegment}\n            detailPopoverSize={detailPopoverSize}\n            pieData={pieData}\n            dataSum={dataSum}\n          />\n        ) : null\n      }\n      legend={\n        !hideLegend &&\n        !hasNoData &&\n        statusType === 'finished' && (\n          <Legend<T>\n            series={legendItems}\n            highlightedSeries={legendSegment}\n            legendTitle={legendTitle}\n            ariaLabel={i18nStrings?.legendAriaLabel}\n            onHighlightChange={onHighlightChange}\n            plotContainerRef={containerRef}\n          />\n        )\n      }\n      onBlur={onBlur}\n    />\n  );\n};\n\napplyDisplayName(PieChart, 'PieChart');\nexport default PieChart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}