{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useCallback } from 'react';\nimport { getIsRtl, getLogicalBoundingClientRect, getLogicalClientX } from '@cloudscape-design/component-toolkit/internal';\nimport styles from '../resize/styles.css.js';\nexport const usePointerEvents = ({\n  position,\n  panelRef,\n  handleRef,\n  onResize\n}) => {\n  const onDocumentPointerMove = useCallback(event => {\n    if (!panelRef || !panelRef.current || !handleRef || !handleRef.current) {\n      return;\n    }\n    if (position === 'side') {\n      const mouseClientX = getLogicalClientX(event, getIsRtl(panelRef.current)) || 0;\n      // The handle offset aligns the cursor with the middle of the resize handle.\n      const handleOffset = getLogicalBoundingClientRect(handleRef.current).inlineSize / 2;\n      const width = getLogicalBoundingClientRect(panelRef.current).insetInlineEnd - mouseClientX + handleOffset;\n      onResize(width);\n    } else {\n      const mouseClientY = event.clientY || 0;\n      // The handle offset aligns the cursor with the middle of the resize handle.\n      const handleOffset = getLogicalBoundingClientRect(handleRef.current).blockSize / 2;\n      const height = getLogicalBoundingClientRect(panelRef.current).insetBlockEnd - mouseClientY + handleOffset;\n      onResize(height);\n    }\n  }, [position, panelRef, handleRef, onResize]);\n  const onDocumentPointerUp = useCallback(() => {\n    const panelElement = panelRef === null || panelRef === void 0 ? void 0 : panelRef.current;\n    /* istanbul ignore if  */\n    if (!panelElement) {\n      return;\n    }\n    const currentDocument = panelElement.ownerDocument;\n    currentDocument.body.classList.remove(styles['resize-active']);\n    currentDocument.body.classList.remove(styles[`resize-${position}`]);\n    currentDocument.removeEventListener('pointerup', onDocumentPointerUp);\n    currentDocument.removeEventListener('pointermove', onDocumentPointerMove);\n  }, [panelRef, onDocumentPointerMove, position]);\n  const onSliderPointerDown = useCallback(() => {\n    const panelElement = panelRef === null || panelRef === void 0 ? void 0 : panelRef.current;\n    /* istanbul ignore if  */\n    if (!panelElement) {\n      return;\n    }\n    const currentDocument = panelElement.ownerDocument;\n    currentDocument.body.classList.add(styles['resize-active']);\n    currentDocument.body.classList.add(styles[`resize-${position}`]);\n    currentDocument.addEventListener('pointerup', onDocumentPointerUp);\n    currentDocument.addEventListener('pointermove', onDocumentPointerMove);\n  }, [panelRef, onDocumentPointerMove, onDocumentPointerUp, position]);\n  return onSliderPointerDown;\n};","map":{"version":3,"names":["useCallback","getIsRtl","getLogicalBoundingClientRect","getLogicalClientX","styles","usePointerEvents","position","panelRef","handleRef","onResize","onDocumentPointerMove","event","current","mouseClientX","handleOffset","inlineSize","width","insetInlineEnd","mouseClientY","clientY","blockSize","height","insetBlockEnd","onDocumentPointerUp","panelElement","currentDocument","ownerDocument","body","classList","remove","removeEventListener","onSliderPointerDown","add","addEventListener"],"sources":["/Users/theo/Library/CloudStorage/OneDrive-RackspaceInc/Documents/aws_hackathon/react-client/node_modules/src/app-layout/utils/use-pointer-events.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { useCallback } from 'react';\n\nimport {\n  getIsRtl,\n  getLogicalBoundingClientRect,\n  getLogicalClientX,\n} from '@cloudscape-design/component-toolkit/internal';\n\nimport { SizeControlProps } from './interfaces';\n\nimport styles from '../resize/styles.css.js';\n\nexport const usePointerEvents = ({ position, panelRef, handleRef, onResize }: SizeControlProps) => {\n  const onDocumentPointerMove = useCallback(\n    (event: PointerEvent) => {\n      if (!panelRef || !panelRef.current || !handleRef || !handleRef.current) {\n        return;\n      }\n\n      if (position === 'side') {\n        const mouseClientX = getLogicalClientX(event, getIsRtl(panelRef.current)) || 0;\n\n        // The handle offset aligns the cursor with the middle of the resize handle.\n        const handleOffset = getLogicalBoundingClientRect(handleRef.current).inlineSize / 2;\n        const width = getLogicalBoundingClientRect(panelRef.current).insetInlineEnd - mouseClientX + handleOffset;\n\n        onResize(width);\n      } else {\n        const mouseClientY = event.clientY || 0;\n\n        // The handle offset aligns the cursor with the middle of the resize handle.\n        const handleOffset = getLogicalBoundingClientRect(handleRef.current).blockSize / 2;\n        const height = getLogicalBoundingClientRect(panelRef.current).insetBlockEnd - mouseClientY + handleOffset;\n\n        onResize(height);\n      }\n    },\n    [position, panelRef, handleRef, onResize]\n  );\n\n  const onDocumentPointerUp = useCallback(() => {\n    const panelElement = panelRef?.current;\n    /* istanbul ignore if  */\n    if (!panelElement) {\n      return;\n    }\n    const currentDocument = panelElement.ownerDocument;\n\n    currentDocument.body.classList.remove(styles['resize-active']);\n    currentDocument.body.classList.remove(styles[`resize-${position}`]);\n    currentDocument.removeEventListener('pointerup', onDocumentPointerUp);\n    currentDocument.removeEventListener('pointermove', onDocumentPointerMove);\n  }, [panelRef, onDocumentPointerMove, position]);\n\n  const onSliderPointerDown = useCallback(() => {\n    const panelElement = panelRef?.current;\n    /* istanbul ignore if  */\n    if (!panelElement) {\n      return;\n    }\n    const currentDocument = panelElement.ownerDocument;\n    currentDocument.body.classList.add(styles['resize-active']);\n    currentDocument.body.classList.add(styles[`resize-${position}`]);\n    currentDocument.addEventListener('pointerup', onDocumentPointerUp);\n    currentDocument.addEventListener('pointermove', onDocumentPointerMove);\n  }, [panelRef, onDocumentPointerMove, onDocumentPointerUp, position]);\n\n  return onSliderPointerDown;\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}