{"ast":null,"code":"import { __rest } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport { AnalyticsFunnel, AnalyticsFunnelStep, AnalyticsFunnelSubStep } from '../internal/analytics/components/analytics-funnel';\nimport { useFunnel } from '../internal/analytics/hooks/use-funnel';\nimport { DATA_ATTR_MODAL_ID } from '../internal/analytics/selectors';\nimport { getAnalyticsMetadataProps } from '../internal/base-component';\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport InternalModal, { InternalModalAsFunnel } from './internal';\nimport styles from './styles.css.js';\nfunction ModalWithAnalyticsFunnel(_a) {\n  var {\n      analyticsMetadata,\n      baseComponentProps,\n      size = 'medium'\n    } = _a,\n    props = __rest(_a, [\"analyticsMetadata\", \"baseComponentProps\", \"size\"]);\n  const modalId = useUniqueId();\n  const dataAttributes = {\n    [DATA_ATTR_MODAL_ID]: modalId\n  };\n  return React.createElement(AnalyticsFunnel, {\n    mounted: props.visible,\n    funnelIdentifier: analyticsMetadata === null || analyticsMetadata === void 0 ? void 0 : analyticsMetadata.instanceIdentifier,\n    funnelFlowType: analyticsMetadata === null || analyticsMetadata === void 0 ? void 0 : analyticsMetadata.flowType,\n    funnelErrorContext: analyticsMetadata === null || analyticsMetadata === void 0 ? void 0 : analyticsMetadata.errorContext,\n    funnelResourceType: analyticsMetadata === null || analyticsMetadata === void 0 ? void 0 : analyticsMetadata.resourceType,\n    funnelType: \"modal\",\n    optionalStepNumbers: [],\n    totalFunnelSteps: 1,\n    funnelNameSelectors: () => {\n      var _a;\n      return [`[${DATA_ATTR_MODAL_ID}=\"${(_a = window === null || window === void 0 ? void 0 : window.CSS) === null || _a === void 0 ? void 0 : _a.escape(modalId)}\"] .${styles['header--text']}`];\n    }\n  }, React.createElement(AnalyticsFunnelStep, {\n    mounted: props.visible,\n    stepIdentifier: analyticsMetadata === null || analyticsMetadata === void 0 ? void 0 : analyticsMetadata.instanceIdentifier,\n    stepErrorContext: analyticsMetadata === null || analyticsMetadata === void 0 ? void 0 : analyticsMetadata.errorContext,\n    stepNumber: 1\n  }, React.createElement(AnalyticsFunnelSubStep, {\n    subStepIdentifier: analyticsMetadata === null || analyticsMetadata === void 0 ? void 0 : analyticsMetadata.instanceIdentifier,\n    subStepErrorContext: analyticsMetadata === null || analyticsMetadata === void 0 ? void 0 : analyticsMetadata.errorContext\n  }, React.createElement(InternalModalAsFunnel, Object.assign({\n    size: size\n  }, props, baseComponentProps, dataAttributes, {\n    __injectAnalyticsComponentMetadata: true\n  })))));\n}\nexport default function Modal(_a) {\n  var {\n      size = 'medium'\n    } = _a,\n    props = __rest(_a, [\"size\"]);\n  const {\n    isInFunnel\n  } = useFunnel();\n  const analyticsMetadata = getAnalyticsMetadataProps(props);\n  const baseComponentProps = useBaseComponent('Modal', {\n    props: {\n      size,\n      disableContentPaddings: props.disableContentPaddings,\n      flowType: analyticsMetadata.flowType\n    },\n    metadata: {\n      hasResourceType: Boolean(analyticsMetadata === null || analyticsMetadata === void 0 ? void 0 : analyticsMetadata.resourceType),\n      hasInstanceIdentifier: Boolean(analyticsMetadata === null || analyticsMetadata === void 0 ? void 0 : analyticsMetadata.instanceIdentifier)\n    }\n  }, analyticsMetadata);\n  if (!isInFunnel) {\n    return React.createElement(ModalWithAnalyticsFunnel, Object.assign({\n      analyticsMetadata: analyticsMetadata,\n      baseComponentProps: baseComponentProps,\n      size: size\n    }, props));\n  }\n  return React.createElement(InternalModal, Object.assign({\n    size: size\n  }, props, baseComponentProps, {\n    __injectAnalyticsComponentMetadata: true\n  }));\n}\napplyDisplayName(Modal, 'Modal');","map":{"version":3,"names":["React","AnalyticsFunnel","AnalyticsFunnelStep","AnalyticsFunnelSubStep","useFunnel","DATA_ATTR_MODAL_ID","getAnalyticsMetadataProps","useBaseComponent","useUniqueId","applyDisplayName","InternalModal","InternalModalAsFunnel","styles","ModalWithAnalyticsFunnel","_a","analyticsMetadata","baseComponentProps","size","props","__rest","modalId","dataAttributes","createElement","mounted","visible","funnelIdentifier","instanceIdentifier","funnelFlowType","flowType","funnelErrorContext","errorContext","funnelResourceType","resourceType","funnelType","optionalStepNumbers","totalFunnelSteps","funnelNameSelectors","window","CSS","escape","stepIdentifier","stepErrorContext","stepNumber","subStepIdentifier","subStepErrorContext","Object","assign","__injectAnalyticsComponentMetadata","Modal","isInFunnel","disableContentPaddings","metadata","hasResourceType","Boolean","hasInstanceIdentifier"],"sources":["/Users/theo/Library/CloudStorage/OneDrive-RackspaceInc/Documents/aws_hackathon/react-client/node_modules/src/modal/index.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\n\nimport {\n  AnalyticsFunnel,\n  AnalyticsFunnelStep,\n  AnalyticsFunnelSubStep,\n} from '../internal/analytics/components/analytics-funnel';\nimport { useFunnel } from '../internal/analytics/hooks/use-funnel';\nimport { DATA_ATTR_MODAL_ID } from '../internal/analytics/selectors';\nimport { BasePropsWithAnalyticsMetadata, getAnalyticsMetadataProps } from '../internal/base-component';\nimport useBaseComponent from '../internal/hooks/use-base-component';\nimport { useUniqueId } from '../internal/hooks/use-unique-id';\nimport { applyDisplayName } from '../internal/utils/apply-display-name';\nimport { ModalProps } from './interfaces';\nimport InternalModal, { InternalModalAsFunnel } from './internal';\n\nimport styles from './styles.css.js';\n\nexport { ModalProps };\n\nfunction ModalWithAnalyticsFunnel({\n  analyticsMetadata,\n  baseComponentProps,\n  size = 'medium',\n  ...props\n}: ModalProps & { analyticsMetadata: any; baseComponentProps: ReturnType<typeof useBaseComponent> }) {\n  const modalId = useUniqueId();\n  const dataAttributes = {\n    [DATA_ATTR_MODAL_ID]: modalId,\n  };\n\n  return (\n    <AnalyticsFunnel\n      mounted={props.visible}\n      funnelIdentifier={analyticsMetadata?.instanceIdentifier}\n      funnelFlowType={analyticsMetadata?.flowType}\n      funnelErrorContext={analyticsMetadata?.errorContext}\n      funnelResourceType={analyticsMetadata?.resourceType}\n      funnelType=\"modal\"\n      optionalStepNumbers={[]}\n      totalFunnelSteps={1}\n      funnelNameSelectors={() => [\n        `[${DATA_ATTR_MODAL_ID}=\"${window?.CSS?.escape(modalId)}\"] .${styles['header--text']}`,\n      ]}\n    >\n      <AnalyticsFunnelStep\n        mounted={props.visible}\n        stepIdentifier={analyticsMetadata?.instanceIdentifier}\n        stepErrorContext={analyticsMetadata?.errorContext}\n        stepNumber={1}\n      >\n        <AnalyticsFunnelSubStep\n          subStepIdentifier={analyticsMetadata?.instanceIdentifier}\n          subStepErrorContext={analyticsMetadata?.errorContext}\n        >\n          <InternalModalAsFunnel\n            size={size}\n            {...props}\n            {...baseComponentProps}\n            {...dataAttributes}\n            __injectAnalyticsComponentMetadata={true}\n          />\n        </AnalyticsFunnelSubStep>\n      </AnalyticsFunnelStep>\n    </AnalyticsFunnel>\n  );\n}\n\nexport default function Modal({ size = 'medium', ...props }: ModalProps) {\n  const { isInFunnel } = useFunnel();\n  const analyticsMetadata = getAnalyticsMetadataProps(props as BasePropsWithAnalyticsMetadata);\n  const baseComponentProps = useBaseComponent(\n    'Modal',\n    {\n      props: {\n        size,\n        disableContentPaddings: props.disableContentPaddings,\n        flowType: analyticsMetadata.flowType,\n      },\n      metadata: {\n        hasResourceType: Boolean(analyticsMetadata?.resourceType),\n        hasInstanceIdentifier: Boolean(analyticsMetadata?.instanceIdentifier),\n      },\n    },\n    analyticsMetadata\n  );\n\n  if (!isInFunnel) {\n    return (\n      <ModalWithAnalyticsFunnel\n        analyticsMetadata={analyticsMetadata}\n        baseComponentProps={baseComponentProps}\n        size={size}\n        {...props}\n      />\n    );\n  }\n\n  return <InternalModal size={size} {...props} {...baseComponentProps} __injectAnalyticsComponentMetadata={true} />;\n}\n\napplyDisplayName(Modal, 'Modal');\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}