{"ast":null,"code":"import { __rest } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef, useState } from 'react';\nimport clsx from 'clsx';\nimport InternalIcon from '../../icon/internal';\nimport Tooltip from '../../internal/components/tooltip';\nimport { fireCancelableEvent, isPlainLeftClick } from '../../internal/events';\nimport { getEventDetail } from '../utils';\nimport { FunnelBreadcrumbItem } from './funnel';\nimport styles from './styles.css.js';\nconst BreadcrumbItemWithPopover = ({\n  item,\n  isLast,\n  anchorAttributes,\n  itemAttributes,\n  children\n}) => {\n  const [showTooltip, setShowTooltip] = useState(false);\n  const textRef = useRef(null);\n  return React.createElement(Item, Object.assign({\n    ref: textRef,\n    isLast: isLast,\n    onFocus: () => {\n      setShowTooltip(true);\n    },\n    onBlur: () => setShowTooltip(false),\n    onMouseEnter: () => {\n      setShowTooltip(true);\n    },\n    onMouseLeave: () => setShowTooltip(false),\n    anchorAttributes: anchorAttributes\n  }, itemAttributes), children, showTooltip && React.createElement(Tooltip, {\n    trackRef: textRef,\n    value: item.text,\n    size: \"medium\",\n    onDismiss: () => setShowTooltip(false)\n  }));\n};\nconst Item = React.forwardRef((_a, ref) => {\n  var {\n      anchorAttributes,\n      children,\n      isLast\n    } = _a,\n    itemAttributes = __rest(_a, [\"anchorAttributes\", \"children\", \"isLast\"]);\n  return isLast ? React.createElement(\"span\", Object.assign({\n    ref: ref,\n    className: styles.anchor\n  }, itemAttributes), children) : React.createElement(\"a\", Object.assign({\n    ref: ref,\n    className: styles.anchor\n  }, itemAttributes, anchorAttributes), children);\n});\nexport function BreadcrumbItem({\n  item,\n  itemIndex,\n  totalCount,\n  onClick,\n  onFollow,\n  isGhost = false,\n  isTruncated = false\n}) {\n  const isLast = itemIndex === totalCount - 1;\n  const preventDefault = event => event.preventDefault();\n  const onClickHandler = event => {\n    if (isPlainLeftClick(event)) {\n      fireCancelableEvent(onFollow, getEventDetail(item), event);\n    }\n    fireCancelableEvent(onClick, getEventDetail(item), event);\n  };\n  const anchorAttributes = {\n    href: item.href || '#',\n    onClick: isLast ? preventDefault : onClickHandler,\n    tabIndex: 0\n  };\n  const itemAttributes = {};\n  if (isGhost) {\n    anchorAttributes.tabIndex = -1;\n  }\n  if (isLast && !isGhost) {\n    itemAttributes['aria-current'] = 'page';\n    itemAttributes['aria-disabled'] = true;\n    itemAttributes.tabIndex = 0;\n    itemAttributes.role = 'link';\n  }\n  const breadcrumbItem = React.createElement(FunnelBreadcrumbItem, {\n    className: styles.text,\n    itemIndex: itemIndex,\n    totalCount: totalCount,\n    text: item.text,\n    disableAnalytics: isGhost\n  });\n  return React.createElement(\"div\", {\n    className: clsx(!isGhost && styles.breadcrumb, isGhost && styles['ghost-breadcrumb'], isLast && styles.last)\n  }, isTruncated && !isGhost ? React.createElement(BreadcrumbItemWithPopover, {\n    item: item,\n    isLast: isLast,\n    anchorAttributes: anchorAttributes,\n    itemAttributes: itemAttributes\n  }, breadcrumbItem) : React.createElement(Item, Object.assign({\n    isLast: isLast,\n    anchorAttributes: anchorAttributes\n  }, itemAttributes), breadcrumbItem), !isLast ? React.createElement(\"span\", {\n    className: styles.icon\n  }, React.createElement(InternalIcon, {\n    name: \"angle-right\"\n  })) : null);\n}","map":{"version":3,"names":["React","useRef","useState","clsx","InternalIcon","Tooltip","fireCancelableEvent","isPlainLeftClick","getEventDetail","FunnelBreadcrumbItem","styles","BreadcrumbItemWithPopover","item","isLast","anchorAttributes","itemAttributes","children","showTooltip","setShowTooltip","textRef","createElement","Item","Object","assign","ref","onFocus","onBlur","onMouseEnter","onMouseLeave","trackRef","value","text","size","onDismiss","forwardRef","_a","__rest","className","anchor","BreadcrumbItem","itemIndex","totalCount","onClick","onFollow","isGhost","isTruncated","preventDefault","event","onClickHandler","href","tabIndex","role","breadcrumbItem","disableAnalytics","breadcrumb","last","icon","name"],"sources":["/Users/theo/Library/CloudStorage/OneDrive-RackspaceInc/Documents/aws_hackathon/react-client/node_modules/src/breadcrumb-group/item/item.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React, { useRef, useState } from 'react';\nimport clsx from 'clsx';\n\nimport InternalIcon from '../../icon/internal';\nimport Tooltip from '../../internal/components/tooltip';\nimport { fireCancelableEvent, isPlainLeftClick } from '../../internal/events';\nimport { BreadcrumbGroupProps, BreadcrumbItemProps } from '../interfaces';\nimport { getEventDetail } from '../utils';\nimport { FunnelBreadcrumbItem } from './funnel';\n\nimport styles from './styles.css.js';\n\ninterface BreadcrumbItemWithPopoverProps<T extends BreadcrumbGroupProps.Item> {\n  item: T;\n  isLast: boolean;\n  anchorAttributes: React.AnchorHTMLAttributes<HTMLAnchorElement>;\n  children: React.ReactNode;\n  itemAttributes: React.HTMLAttributes<HTMLElement>;\n}\n\nconst BreadcrumbItemWithPopover = <T extends BreadcrumbGroupProps.Item>({\n  item,\n  isLast,\n  anchorAttributes,\n  itemAttributes,\n  children,\n}: BreadcrumbItemWithPopoverProps<T>) => {\n  const [showTooltip, setShowTooltip] = useState(false);\n  const textRef = useRef<HTMLElement | null>(null);\n\n  return (\n    <Item\n      ref={textRef}\n      isLast={isLast}\n      onFocus={() => {\n        setShowTooltip(true);\n      }}\n      onBlur={() => setShowTooltip(false)}\n      onMouseEnter={() => {\n        setShowTooltip(true);\n      }}\n      onMouseLeave={() => setShowTooltip(false)}\n      anchorAttributes={anchorAttributes}\n      {...itemAttributes}\n    >\n      {children}\n      {showTooltip && (\n        <Tooltip trackRef={textRef} value={item.text} size=\"medium\" onDismiss={() => setShowTooltip(false)} />\n      )}\n    </Item>\n  );\n};\n\ntype ItemProps = React.HTMLAttributes<HTMLElement> & {\n  anchorAttributes: React.AnchorHTMLAttributes<HTMLAnchorElement>;\n  isLast: boolean;\n};\nconst Item = React.forwardRef<HTMLElement, ItemProps>(\n  ({ anchorAttributes, children, isLast, ...itemAttributes }, ref) => {\n    return isLast ? (\n      <span ref={ref} className={styles.anchor} {...itemAttributes}>\n        {children}\n      </span>\n    ) : (\n      <a ref={ref as React.Ref<HTMLAnchorElement>} className={styles.anchor} {...itemAttributes} {...anchorAttributes}>\n        {children}\n      </a>\n    );\n  }\n);\n\nexport function BreadcrumbItem<T extends BreadcrumbGroupProps.Item>({\n  item,\n  itemIndex,\n  totalCount,\n  onClick,\n  onFollow,\n  isGhost = false,\n  isTruncated = false,\n}: BreadcrumbItemProps<T>) {\n  const isLast = itemIndex === totalCount - 1;\n  const preventDefault = (event: React.MouseEvent) => event.preventDefault();\n  const onClickHandler = (event: React.MouseEvent) => {\n    if (isPlainLeftClick(event)) {\n      fireCancelableEvent(onFollow, getEventDetail(item), event);\n    }\n    fireCancelableEvent(onClick, getEventDetail(item), event);\n  };\n\n  const anchorAttributes: React.AnchorHTMLAttributes<HTMLAnchorElement> = {\n    href: item.href || '#',\n    onClick: isLast ? preventDefault : onClickHandler,\n    tabIndex: 0,\n  };\n\n  const itemAttributes: React.AnchorHTMLAttributes<HTMLAnchorElement> = {};\n  if (isGhost) {\n    anchorAttributes.tabIndex = -1;\n  }\n\n  if (isLast && !isGhost) {\n    itemAttributes['aria-current'] = 'page';\n    itemAttributes['aria-disabled'] = true;\n    itemAttributes.tabIndex = 0;\n    itemAttributes.role = 'link';\n  }\n\n  const breadcrumbItem = (\n    <FunnelBreadcrumbItem\n      className={styles.text}\n      itemIndex={itemIndex}\n      totalCount={totalCount}\n      text={item.text}\n      disableAnalytics={isGhost}\n    />\n  );\n\n  return (\n    <div className={clsx(!isGhost && styles.breadcrumb, isGhost && styles['ghost-breadcrumb'], isLast && styles.last)}>\n      {isTruncated && !isGhost ? (\n        <BreadcrumbItemWithPopover\n          item={item}\n          isLast={isLast}\n          anchorAttributes={anchorAttributes}\n          itemAttributes={itemAttributes}\n        >\n          {breadcrumbItem}\n        </BreadcrumbItemWithPopover>\n      ) : (\n        <Item isLast={isLast} anchorAttributes={anchorAttributes} {...itemAttributes}>\n          {breadcrumbItem}\n        </Item>\n      )}\n      {!isLast ? (\n        <span className={styles.icon}>\n          <InternalIcon name=\"angle-right\" />\n        </span>\n      ) : null}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}